"use strict";(self.webpackChunkcedri_ugv_dashboard=self.webpackChunkcedri_ugv_dashboard||[]).push([[417],{88674:function(t,e,n){n.d(e,{Z:function(){return v}});var a=n(1413),i=n(15671),r=n(43144),o=n(60136),c=n(27277),s=n(47313),l=n(20061),u=n(8515),d=n(46417),f=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{dateTime:1,percentage:1}},{$sort:{dateTime:-1}},{$limit:1}]}),m=function(t){(0,o.Z)(n,t);var e=(0,c.Z)(n);function n(t){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList(),a.timer()},a.componentWillUnmount=function(){clearInterval(a.timer)},a.timer=function(){setInterval((function(){a.canUpdate()}),1e3)},a.config={measureField:"measures",rangeField:"ranges",targetField:"value",xField:"title",size:{range:30,measure:0,target:30},color:{range:["#FF7772","#FFBC6D","#F5F16E","#BAFF7D","#82FF74"],measure:"#5B8FF9",target:"#39a3f4"},xAxis:{line:null},yAxis:!1,label:{measure:!1,target:!0},height:40,width:350},a.data=function(){return[{title:"Percentage",ranges:[20,40,60,80,100],measures:[0],value:Math.round(100*a.state.data.percentage)}]},a.state={data:[],ticks:-1},a}return(0,r.Z)(n,[{key:"canUpdate",value:function(){JSON.parse(window.localStorage.getItem("fromLocal"))||this.state.ticks<=0?(this.setState({ticks:10}),this.refreshList()):JSON.parse(window.localStorage.getItem("fromLocal"))||this.setState({ticks:this.state.ticks-1})}},{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(f)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,a.Z)((0,a.Z)({},this.config),{},{data:this.data()}))}}]),n}(s.Component),h=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{dateTime:1,current:1}},{$sort:{dateTime:-1}},{$limit:1}]}),g=function(t){(0,o.Z)(n,t);var e=(0,c.Z)(n);function n(t){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList(),a.timer()},a.componentWillUnmount=function(){clearInterval(a.timer)},a.timer=function(){setInterval((function(){a.canUpdate()}),1e3)},a.config={measureField:"measures",rangeField:"ranges",targetField:"value",xField:"title",size:{range:30,measure:0,target:30},color:{range:["#82FF74","#F5F16E","#FF7772"],measure:"#5B8FF9",target:"#39a3f4"},xAxis:{line:null},yAxis:!1,label:{measure:!1,target:!0},height:40,width:350},a.data=function(){return[{title:"Current",ranges:[2,3,3.5],measures:[0],value:Math.round(100*a.state.data.current)/100}]},a.state={data:[],ticks:-1},a}return(0,r.Z)(n,[{key:"canUpdate",value:function(){JSON.parse(window.localStorage.getItem("fromLocal"))||this.state.ticks<=0?(this.setState({ticks:10}),this.refreshList()):JSON.parse(window.localStorage.getItem("fromLocal"))||this.setState({ticks:this.state.ticks-1})}},{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(h)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,a.Z)((0,a.Z)({},this.config),{},{data:this.data()}))}}]),n}(s.Component),p=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{dateTime:1,voltage:1}},{$sort:{dateTime:-1}},{$limit:1}]}),Z=function(t){(0,o.Z)(n,t);var e=(0,c.Z)(n);function n(t){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList(),a.timer()},a.componentWillUnmount=function(){clearInterval(a.timer)},a.timer=function(){setInterval((function(){a.canUpdate()}),1e3)},a.config={measureField:"measures",rangeField:"ranges",targetField:"value",xField:"title",size:{range:30,measure:10,target:30},color:{range:["#FF7772","#FFBC6D","#F5F16E","#BAFF7D","#82FF74","#FF7772"],measure:"#5B8FF9",target:"#39a3f4"},xAxis:{line:null},yAxis:!1,label:{measure:!1,target:!0},height:40,width:350},a.data=function(){return[{title:"Voltage",ranges:[20,23,24,25,27,28],measures:[0],value:Math.round(100*a.state.data.voltage)/100}]},a.state={data:[],ticks:-1},a}return(0,r.Z)(n,[{key:"canUpdate",value:function(){JSON.parse(window.localStorage.getItem("fromLocal"))||this.state.ticks<=0?(this.setState({ticks:10}),this.refreshList()):JSON.parse(window.localStorage.getItem("fromLocal"))||this.setState({ticks:this.state.ticks-1})}},{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(p)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,a.Z)((0,a.Z)({},this.config),{},{data:this.data()}))}}]),n}(s.Component),x=n(80891),v=function(){return(0,d.jsxs)(x.Z,{direction:"column",alignItems:"center",spacing:0,children:[(0,d.jsx)(m,{}),(0,d.jsx)(g,{}),(0,d.jsx)(Z,{})]})}},44090:function(t,e){e.Z={graph:{big:{},medium:{},small:{}},stack:{direction:"column",alignItems:"center",spacing:1},typography:{variant:"h5",color:"textSecondary"},box:{sx:{p:2,pb:1}},maincard:{sx:{mt:2},content:!1}}},18417:function(t,e,n){n.r(e),n.d(e,{default:function(){return A}});var a=n(62463),i=n(15671),r=n(43144),o=n(60136),c=n(27277),s=n(47313),l=n(16157),u=n(42669),d=n(8200),f=n(26899),m=n(8515),h=n(46417),g=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{_id:0}},{$sort:{dateTime:-1}},{$limit:1e3}]}),p=[{title:"Time",dataIndex:"dateTime",key:"dateTime",sorter:{compare:function(t,e){return t.dateTime-e.dateTime},multiple:1},defaultSortOrder:"descend"},{title:"Percentage",dataIndex:["percentage"],key:"percentage"},{title:"Voltage",dataIndex:["voltage"],key:"voltage"},{title:"Current",dataIndex:["voltage"],key:"current"},{title:"Power",dataIndex:["power"],key:"power"}],Z=function(t){(0,o.Z)(n,t);var e=(0,c.Z)(n);function n(t){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList()},a.state={data:[],ticks:-1},a}return(0,r.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,m.H)(),(0,m.w)(g)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,h.jsx)(f.Z,{columns:p,dataSource:this.state.data,pagination:this.state.pagination,loading:this.state.loading,onChange:this.handleTableChange,sx:this.props.sx})}}]),n}(s.Component),x=n(40040),v=function(t){(0,o.Z)(n,t);var e=(0,c.Z)(n);function n(){return(0,i.Z)(this,n),e.apply(this,arguments)}return(0,r.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(d.Z,{sx:x.Z,content:!1,children:(0,h.jsx)(l.Z,{sx:{p:3,pb:0},children:(0,h.jsxs)(a.Z,{spacing:2,children:[(0,h.jsx)(u.Z,{variant:"h3",color:"textSecondary",children:"Battery data"}),(0,h.jsx)(Z,{})]})})})}}]),n}(s.Component),y=n(56448),k=n(1413),$=n(78315),S=n(95436),j=n(96543),I=n(89755),w=n(91372),F=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]])}return n},b=(0,s.forwardRef)((function(t,e){var n=t.chartRef,a=t.style,i=void 0===a?{height:"inherit"}:a,r=t.className,o=t.loading,c=t.loadingTemplate,l=t.errorTemplate,u=F(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),d=(0,S.Z)($.Area,u),f=d.chart,m=d.container;return(0,s.useEffect)((function(){(0,j.J)(n,f.current)}),[f.current]),(0,s.useImperativeHandle)(e,(function(){return{getChart:function(){return f.current}}})),s.createElement(I.Z,{errorTemplate:l},o&&s.createElement(w.Z,{loadingTemplate:c,theme:t.theme}),s.createElement("div",{className:r,style:i,ref:m}))})),C=n(44090),D=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},current:{$cond:[{$eq:["NaN","$current"]},null,"$current"]}}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",current:{$avg:"$current"}}},{$sort:{_id:-1}},{$limit:100}]}),T=function(t){(0,o.Z)(n,t);var e=(0,c.Z)(n);function n(t){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList(),a.timer()},a.componentWillUnmount=function(){clearInterval(a.timer)},a.timer=function(){setInterval((function(){a.canUpdate()}),1e3)},a.config={padding:"auto",xField:"_id",yField:"current",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Battery current [A]"}},tooltip:{formatter:function(t){return null!=t.current?{name:"Current",value:t.current.toFixed(1)+" A"}:{}}},smooth:!0},a.state={data:[],ticks:-1},a}return(0,r.Z)(n,[{key:"canUpdate",value:function(){JSON.parse(window.localStorage.getItem("fromLocal"))||this.state.ticks<=0?(this.setState({ticks:10}),this.refreshList()):JSON.parse(window.localStorage.getItem("fromLocal"))||this.setState({ticks:this.state.ticks-1})}},{key:"refreshList",value:function(){var t=this;fetch((0,m.H)(),(0,m.w)(D)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,h.jsx)(d.Z,{sx:C.Z.maincard.sx,content:C.Z.maincard.content,children:(0,h.jsx)(l.Z,{sx:C.Z.box.sx,children:(0,h.jsxs)(a.Z,{spacing:C.Z.stack.spacing,direction:C.Z.stack.direction,alignItems:C.Z.stack.alignItems,children:[(0,h.jsx)(u.Z,{variant:C.Z.typography.variant,color:C.Z.typography.color,children:"Battery current by time"}),(0,h.jsx)(b,(0,k.Z)((0,k.Z)({},this.config),{},{data:this.state.data},C.Z.graph.medium))]})})})}}]),n}(s.Component),_=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},percentage:{$cond:[{$eq:["NaN","$percentage"]},null,"$percentage"]}}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",percentage:{$avg:"$percentage"}}},{$sort:{_id:-1}},{$limit:100},{$project:{percentage:{$multiply:["$percentage",100]}}}]}),L=function(t){(0,o.Z)(n,t);var e=(0,c.Z)(n);function n(t){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList(),a.timer()},a.componentWillUnmount=function(){clearInterval(a.timer)},a.timer=function(){setInterval((function(){a.canUpdate()}),1e3)},a.config={padding:"auto",xField:"_id",yField:"percentage",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Battery percentage [%]"}},tooltip:{formatter:function(t){return null!=t.percentage?{name:"Percentage",value:t.percentage.toFixed(1)+"%"}:{}}},smooth:!0},a.state={data:[],ticks:-1},a}return(0,r.Z)(n,[{key:"canUpdate",value:function(){JSON.parse(window.localStorage.getItem("fromLocal"))||this.state.ticks<=0?(this.setState({ticks:10}),this.refreshList()):JSON.parse(window.localStorage.getItem("fromLocal"))||this.setState({ticks:this.state.ticks-1})}},{key:"refreshList",value:function(){var t=this;fetch((0,m.H)(),(0,m.w)(_)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,h.jsx)(d.Z,{sx:C.Z.maincard.sx,content:C.Z.maincard.content,children:(0,h.jsx)(l.Z,{sx:C.Z.box.sx,children:(0,h.jsxs)(a.Z,{spacing:C.Z.stack.spacing,direction:C.Z.stack.direction,alignItems:C.Z.stack.alignItems,children:[(0,h.jsx)(u.Z,{variant:C.Z.typography.variant,color:C.Z.typography.color,children:"Battery percentage by time"}),(0,h.jsx)(b,(0,k.Z)((0,k.Z)({},this.config),{},{data:this.state.data},C.Z.graph.medium))]})})})}}]),n}(s.Component),N=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},voltage:{$cond:[{$eq:["NaN","$voltage"]},"None","$voltage"]},current:{$cond:[{$eq:["NaN","$current"]},"None","$current"]}}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",current:{$avg:"$current"},voltage:{$avg:"$voltage"}}},{$set:{power:{$multiply:["$current","$voltage"]}}},{$project:{_id:1,power:1}},{$sort:{_id:-1}},{$limit:100}]}),O=function(t){(0,o.Z)(n,t);var e=(0,c.Z)(n);function n(t){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList(),a.timer()},a.componentWillUnmount=function(){clearInterval(a.timer)},a.timer=function(){setInterval((function(){a.canUpdate()}),1e3)},a.config={padding:"auto",xField:"_id",yField:"power",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Battery power [W]"}},tooltip:{formatter:function(t){return null!=t.power?{name:"Power",value:t.power.toFixed(1)+" W"}:{}}},smooth:!0},a.state={data:[],ticks:-1},a}return(0,r.Z)(n,[{key:"canUpdate",value:function(){JSON.parse(window.localStorage.getItem("fromLocal"))||this.state.ticks<=0?(this.setState({ticks:10}),this.refreshList()):JSON.parse(window.localStorage.getItem("fromLocal"))||this.setState({ticks:this.state.ticks-1})}},{key:"refreshList",value:function(){var t=this;fetch((0,m.H)(),(0,m.w)(N)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,h.jsx)(d.Z,{sx:C.Z.maincard.sx,content:C.Z.maincard.content,children:(0,h.jsx)(l.Z,{sx:C.Z.box.sx,children:(0,h.jsxs)(a.Z,{spacing:C.Z.stack.spacing,direction:C.Z.stack.direction,alignItems:C.Z.stack.alignItems,children:[(0,h.jsx)(u.Z,{variant:C.Z.typography.variant,color:C.Z.typography.color,children:"Battery power by time"}),(0,h.jsx)(b,(0,k.Z)((0,k.Z)({},this.config),{},{data:this.state.data},C.Z.graph.medium))]})})})}}]),n}(s.Component),U=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},voltage:{$cond:[{$eq:["NaN","$voltage"]},null,"$voltage"]}}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",voltage:{$avg:"$voltage"}}},{$sort:{_id:-1}},{$limit:100}]}),B=function(t){(0,o.Z)(n,t);var e=(0,c.Z)(n);function n(t){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList(),a.timer()},a.componentWillUnmount=function(){clearInterval(a.timer)},a.timer=function(){setInterval((function(){a.canUpdate()}),1e3)},a.config={padding:"auto",xField:"_id",yField:"voltage",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Battery voltage [V]"}},tooltip:{formatter:function(t){return null!=t.voltage?{name:"Voltage",value:t.voltage.toFixed(1)+" V"}:{}}},smooth:!0},a.state={data:[],ticks:-1},a}return(0,r.Z)(n,[{key:"canUpdate",value:function(){JSON.parse(window.localStorage.getItem("fromLocal"))||this.state.ticks<=0?(this.setState({ticks:10}),this.refreshList()):JSON.parse(window.localStorage.getItem("fromLocal"))||this.setState({ticks:this.state.ticks-1})}},{key:"refreshList",value:function(){var t=this;fetch((0,m.H)(),(0,m.w)(U)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,h.jsx)(d.Z,{sx:C.Z.maincard.sx,content:C.Z.maincard.content,children:(0,h.jsx)(l.Z,{sx:C.Z.box.sx,children:(0,h.jsxs)(a.Z,{spacing:C.Z.stack.spacing,direction:C.Z.stack.direction,alignItems:C.Z.stack.alignItems,children:[(0,h.jsx)(u.Z,{variant:C.Z.typography.variant,color:C.Z.typography.color,children:"Battery voltage by time"}),(0,h.jsx)(b,(0,k.Z)((0,k.Z)({},this.config),{},{data:this.state.data},C.Z.graph.medium))]})})})}}]),n}(s.Component),M=n(88674),J=function(t){(0,o.Z)(n,t);var e=(0,c.Z)(n);function n(t){var r;return(0,i.Z)(this,n),(r=e.call(this,t)).hadleChange=function(t,e){r.setState({page:e}),r.componentDidMount()},r.componentDidMount=function(){r.graphs()},r.graphs=function(){switch(r.state.page){case 1:return(0,h.jsxs)(a.Z,{direction:"row",spacing:2,children:[(0,h.jsx)(T,{}),(0,h.jsx)(L,{}),(0,h.jsx)(O,{}),(0,h.jsx)(B,{})]});case 2:return(0,h.jsx)(a.Z,{direction:"row",spacing:2,children:(0,h.jsx)(M.Z,{})})}},r.state={page:1},r}return(0,r.Z)(n,[{key:"render",value:function(){return(0,h.jsx)(d.Z,{sx:x.Z,content:!1,children:(0,h.jsx)(l.Z,{sx:{p:3,pb:0},children:(0,h.jsxs)(a.Z,{spacing:2,children:[(0,h.jsx)(u.Z,{variant:"h3",color:"textSecondary",children:"Battery plots"}),this.graphs(),(0,h.jsx)(y.Z,{count:2,defaultPage:1,siblingCount:0,page:this.state.page,onChange:this.hadleChange})]})})})}}]),n}(s.Component),A=function(){return(0,h.jsxs)(a.Z,{spacing:2,children:[(0,h.jsx)(J,{}),(0,h.jsx)(v,{})]})}},40040:function(t,e){e.Z={width:1,height:1,minHeight:1,maxHeight:1,minWidth:1,maxWidth:1,mt:1,gap:2}}}]);