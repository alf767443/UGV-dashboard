"use strict";(self.webpackChunkcedri_ugv_dashboard=self.webpackChunkcedri_ugv_dashboard||[]).push([[881],{57689:function(t,e,n){n.d(e,{Z:function(){return T}});var i=n(1413),a=n(15671),o=n(43144),r=n(60136),s=n(29388),c=n(47313),l=n(90722),u=n(8515),A=n(44090),d=n(46417),f=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Battery",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},current:1}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",current:{$avg:"$current"}}},{$sort:{_id:-1}},{$limit:100}]}),g=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"current",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Battery current [A]"}},tooltip:{formatter:function(t){return null!=t.current?{name:"Current",value:t.current.toFixed(1)+" A"}:{}}}},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(f)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.plot),{},{data:this.state.data}))}}]),n}(c.Component),m=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Battery",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},percentage:1}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",percentage:{$avg:"$percentage"}}},{$sort:{_id:-1}},{$limit:100},{$project:{percentage:{$multiply:["$percentage",100]}}}]}),h=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"percentage",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Battery percentage [%]"}},tooltip:{formatter:function(t){return null!=t.percentage?{name:"Percentage",value:t.percentage.toFixed(1)+"%"}:{}}}},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(m)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.plot),{},{data:this.state.data}))}}]),n}(c.Component),p=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Battery",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},voltage:1}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",voltage:{$avg:"$voltage"}}},{$sort:{_id:-1}},{$limit:100}]}),I=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"voltage",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Battery voltage [V]"}},tooltip:{formatter:function(t){return null!=t.voltage?{name:"Voltage",value:t.voltage.toFixed(1)+" V"}:{}}}},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(p)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.plot),{},{data:this.state.data}))}}]),n}(c.Component),y=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Battery",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},voltage:1,current:1}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",current:{$avg:"$current"},voltage:{$avg:"$voltage"}}},{$set:{power:{$multiply:["$current","$voltage"]}}},{$project:{_id:1,power:1}},{$sort:{_id:-1}},{$limit:100}]}),Z=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"power",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Battery power [W]"}},tooltip:{formatter:function(t){return null!=t.power?{name:"Power",value:t.power.toFixed(1)+" W"}:{}}}},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(y)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.plot),{},{data:this.state.data}))}}]),n}(c.Component),C=n(20061),v=n(62463),B=n(42669),x=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Battery",pipeline:[{$project:{dateTime:1,percentage:1}},{$sort:{dateTime:-1}},{$limit:1}]}),E=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={color:{range:["#82FF74","#BAFF7D","#F5F16E","#FFBC6D","#FF7772"],measure:"#5B8FF9",target:"#39a3f4"}},i.data=function(){return[{title:" ",ranges:[20,40,60,80,100],measures:[0],value:Math.round(100*i.state.data.percentage)}]},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(x)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsxs)(v.Z,{children:[(0,d.jsx)(C.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.bullet.dual),{},{data:this.data()})),(0,d.jsx)(B.Z,(0,i.Z)((0,i.Z)({},A.Z.typography.subtitle),{},{children:"Percentage"}))]})}}]),n}(c.Component),$=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Battery",pipeline:[{$project:{dateTime:1,current:1}},{$sort:{dateTime:-1}},{$limit:1}]}),w=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={color:{range:["#FF7772","#F5F16E","#82FF74"],measure:"#5B8FF9",target:"#39a3f4"}},i.data=function(){return[{title:" ",ranges:[2,3,3.5],measures:[0],value:Math.round(100*i.state.data.current)/100}]},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)($)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsxs)(v.Z,{children:[(0,d.jsx)(C.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.bullet.dual),{},{data:this.data()})),(0,d.jsx)(B.Z,(0,i.Z)((0,i.Z)({},A.Z.typography.subtitle),{},{children:"Current"}))]})}}]),n}(c.Component),M=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Battery",pipeline:[{$project:{dateTime:1,voltage:1}},{$sort:{dateTime:-1}},{$limit:1}]}),D=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={color:{range:["#FF7772","#FFBC6D","#F5F16E","#BAFF7D","#82FF74","#FF7772"],measure:"#5B8FF9",target:"#39a3f4"}},i.data=function(){return[{title:" ",ranges:[20,23,24,25,27,28],measures:[0],value:Math.round(100*i.state.data.voltage)/100}]},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(M)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsxs)(v.Z,{children:[(0,d.jsx)(C.Z,(0,i.Z)((0,i.Z)({},this.config),{},{data:this.data()},A.Z.bullet.dual)),(0,d.jsx)(B.Z,(0,i.Z)((0,i.Z)({},A.Z.typography.subtitle),{},{children:"Voltage"}))]})}}]),n}(c.Component),S=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Battery",pipeline:[{$project:{dateTime:1,current:1}},{$sort:{dateTime:-1}},{$limit:1}]}),R=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={color:{range:["#FF7772","#FFBC6D","#F5F16E","#BAFF7D","#82FF74","#FF7772"],measure:"#5B8FF9",target:"#39a3f4"}},i.data=function(){return[{title:" ",ranges:[10,18,22,30,40,50],measures:[0],value:Math.round(100*i.state.data.current)/100}]},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(S)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsxs)(v.Z,{children:[(0,d.jsx)(C.Z,(0,i.Z)((0,i.Z)({},this.config),{},{data:this.data()},A.Z.bullet.dual)),(0,d.jsx)(B.Z,(0,i.Z)((0,i.Z)({},A.Z.typography.subtitle),{},{children:"Temp."}))]})}}]),n}(c.Component),k=function(){return(0,d.jsxs)(v.Z,(0,i.Z)((0,i.Z)({},A.Z.bullet.stack),{},{children:[(0,d.jsx)(E,{}),(0,d.jsx)(w,{}),(0,d.jsx)(D,{}),(0,d.jsx)(R,{})]}))},F=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Battery",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},current:1}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",current:{$avg:"$temperature"}}},{$sort:{_id:-1}},{$limit:100}]}),b=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"temperature",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Battery temperature [\xbaC]"}},tooltip:{formatter:function(t){return null!=t.temperature?{name:"Temperature",value:t.temperature.toFixed(1)+"\xbaC"}:{}}}},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(F)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.plot),{},{data:this.state.data}))}}]),n}(c.Component),T={SimplePlot:[{plot:(0,d.jsx)(g,{}),title:"Battery current by time",label:"Current by time",key:"battery-current-time-are"},{plot:(0,d.jsx)(h,{}),title:"Battery percentage by time",label:"Percent by time",key:"battery-percent-time-area"},{plot:(0,d.jsx)(I,{}),title:"Battery voltage by time",label:"Voltage by time",key:"battery-voltage-time-area"},{plot:(0,d.jsx)(Z,{}),title:"Battery power by time",label:"Power by time",key:"battery-power-time-area"},{plot:(0,d.jsx)(b,{}),title:"Battery temperature by time",label:"Temperature by time",key:"battery-temperature-time-bullet"},{plot:(0,d.jsx)(k,{}),title:"Battery actual states",label:"Bullets",key:"battery-battery--bullet"}],LargePlot:[],BigPlot:[]}},97849:function(t,e,n){n.d(e,{Z:function(){return x}});var i=n(1413),a=n(15671),o=n(43144),r=n(60136),s=n(29388),c=n(47313),l=n(45848),u=n(44090),A=n(62463),d=n(82937),f=n(42669),g=n(2983),m=n(70301),h=n(15577),p=n(18210),I=n(95714),y=n(81191),Z=n(8515),C=(n(37700),n(46417));function v(t,e){return(t=t.toUpperCase())<(e=e.toUpperCase())?-1:t>e?1:0}var B=[{key:"maps",label:"Maps",children:m.Z.BigPlot.sort((function(t,e){return v(t.label,e.label)}))},{key:"nodes",label:"Nodes",children:h.Z.BigPlot.sort((function(t,e){return v(t.label,e.label)}))}],x=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).handleMenuClick=function(t){var e;console.log(t),I.ZP.open({key:t.key,type:"loading",content:"Uploading change...",style:{marginTop:"8vh"},duration:0}),fetch("http://192.168.217.183:8000/update/",(0,Z.w)((e=t.key,JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_dashboard",collection:"config",filter:{user:"default"},update:[{$set:{dashboardLayout:{coordinates:{graph:e,type:"big"}}}}]})).replace("coordinates",i.props.position))).then((function(t){return t.json()})).then((function(){I.ZP.destroy(t.key),I.ZP.open({key:t.key,type:"success",content:"Success, reloading the page",style:{marginTop:"8vh"},duration:2.5}).then(window.location.reload(!0))})).catch((function(t){console.log(t)}))},i}return(0,o.Z)(n,[{key:"render",value:function(){return(0,C.jsx)(l.Z,(0,i.Z)((0,i.Z)({},u.Z.maincard),{},{children:(0,C.jsxs)(A.Z,(0,i.Z)((0,i.Z)({},u.Z.stack),{},{children:[(0,C.jsxs)("div",{className:"div-pai",children:[this.props.static?(0,C.jsx)(C.Fragment,{}):(0,C.jsx)("div",{className:"MoreOptions",children:(0,C.jsx)(y.Z,{menu:{items:B,onClick:this.handleMenuClick},trigger:["click"],children:(0,C.jsx)(p.Z,{sx:{color:"#b3b3b3"}})})}),(0,C.jsx)("div",{className:"TitleBox",children:(0,C.jsx)(d.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:(0,C.jsx)(f.Z,(0,i.Z)((0,i.Z)({},u.Z.typography.title),{},{children:this.props.title?this.props.title:"No graph find"}))})})]}),this.props.graph?this.props.graph:(0,C.jsx)(g.Z,{animation:"wave",height:458,width:"100%"})]}))}))}}]),n}(c.Component)},3323:function(t,e,n){n.d(e,{Z:function(){return x}});var i=n(1413),a=n(15671),o=n(43144),r=n(60136),s=n(29388),c=n(47313),l=n(90722),u=n(8515),A=n(44090),d=n(46417),f=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Processes",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},"computer.memory":1}},{$set:{memoryPercent:{$arrayElemAt:["$computer.memory",2]}}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",memoryPercent:{$avg:"$memoryPercent"}}},{$sort:{_id:-1}},{$limit:100}]}),g=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"memoryPercent",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Memory percent [%]"}},tooltip:{formatter:function(t){return null!=t.memoryPercent?{name:"Memory percent",value:t.memoryPercent.toFixed(1)+" %"}:{}}}},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(f)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.plot),{},{data:this.state.data}))}}]),n}(c.Component),m=n(93433),h=n(82597),p=function(t){return JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Processes",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},"computer.cpu_perc":1}},{$set:{cpuPercent:{$arrayElemAt:["$computer.cpu_perc",t]}}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",cpuPercent:{$avg:"$cpuPercent"}}},{$sort:{_id:-1}},{$limit:100},{$addFields:{cpu:t.toString()}}]})},I=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"cpuPercent",seriesField:"cpu",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"CPU percent [%]"}},tooltip:{formatter:function(t){return null!=t.cpuPercent?{name:"CPU"+t.cpu,value:t.cpuPercent.toFixed(1)+" %"}:{}}}},i.state={data:[],temp:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(p(0))).then((function(t){return t.json()})).then((function(e){t.setState({_1:(0,m.Z)(e)})})).then((function(){fetch((0,u.H)(),(0,u.w)(p(1))).then((function(t){return t.json()})).then((function(e){t.setState({_2:(0,m.Z)(e)})})).then((function(){fetch((0,u.H)(),(0,u.w)(p(2))).then((function(t){return t.json()})).then((function(e){t.setState({_3:(0,m.Z)(e)})})).then((function(){fetch((0,u.H)(),(0,u.w)(p(3))).then((function(t){return t.json()})).then((function(e){t.setState({data:[].concat((0,m.Z)(t.state._1),(0,m.Z)(t.state._2),(0,m.Z)(t.state._3),(0,m.Z)(e))})})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(h.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.plot),{},{data:this.state.data}))}}]),n}(c.Component),y=n(64229),Z=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Processes",pipeline:[{$sort:{dateTime:-1}},{$limit:1},{$unwind:{path:"$process",preserveNullAndEmptyArrays:!1}},{$addFields:{process:{value:{$sum:{$divide:["$process.cpu_percent",{$size:["$computer.cpu_perc"]}]}}}}},{$group:{_id:"$process.username",value:{$sum:{$divide:["$process.cpu_percent",{$size:["$computer.cpu_perc"]}]}},children:{$push:"$process"},count:{$count:{}}}},{$addFields:{label:"$_id"}}]}),C=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList()},i.config={innerRadius:.3,interactions:[{type:"element-active"}],hierarchyConfig:{field:"value"},drilldown:{breadCrumb:{rootText:"root"}},tooltip:{formatter:function(t){return{name:t.label,value:"".concat(t.value,"%")}}},label:{layout:[{type:"limit-in-shape"}]}},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(Z)).then((function(t){return t.json()})).then((function(e){t.setState({data:{label:"root",children:(0,m.Z)(e)}})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(y.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.plot),{},{data:this.state.data}))}}]),n}(c.Component),v=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Processes",pipeline:[{$sort:{dateTime:-1}},{$limit:1},{$unwind:{path:"$process",preserveNullAndEmptyArrays:!1}},{$addFields:{process:{value:{$sum:["$process.memory_percent"]}}}},{$group:{_id:"$process.username",value:{$sum:"$process.memory_percent"},children:{$push:"$process"},count:{$count:{}}}},{$addFields:{label:"$_id"}}]}),B=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList()},i.config={innerRadius:.3,interactions:[{type:"element-active"}],hierarchyConfig:{field:"value"},drilldown:{breadCrumb:{rootText:"root"}},tooltip:{formatter:function(t){return{name:t.label,value:"".concat(t.value,"%")}}},label:{layout:[{type:"limit-in-shape"}]}},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(v)).then((function(t){return t.json()})).then((function(e){t.setState({data:{label:"root",children:(0,m.Z)(e)}})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(y.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.plot),{},{data:this.state.data}))}}]),n}(c.Component),x={SimplePlot:[{plot:(0,d.jsx)(g,{}),title:"Memory percent by time",label:"Memory by time",key:"cpu-memory-time-area"},{plot:(0,d.jsx)(I,{}),title:"CPU percent by time",label:"CPU by time",key:"cpu-cpu-time-area"},{plot:(0,d.jsx)(C,{}),title:"CPU sunburst",label:"CPU sunburst",key:"cpu-user-sun-brush"},{plot:(0,d.jsx)(B,{}),title:"Memory sunburst",label:"Memory sunburst",key:"memory-user-sun-brush"}],LargePlot:[],BigPlot:[]}},58594:function(t,e,n){n.d(e,{Z:function(){return m}});var i=n(1413),a=n(15671),o=n(43144),r=n(60136),s=n(29388),c=n(47313),l=n(90722),u=n(8515),A=n(44090),d=n(46417),f=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Connection",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},RTT:1}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",RTT:{$avg:"$RTT"}}},{$sort:{_id:-1}},{$limit:100}]}),g=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"RTT",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Connection RTT [s]"}},tooltip:{formatter:function(t){return null!=t.RTT?{name:"RTT",value:t.RTT.toFixed(1)+" s"}:{}}}},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(f)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.plot),{},{data:this.state.data}))}}]),n}(c.Component),m={SimplePlot:[{plot:(0,d.jsx)(g,{}),title:"Connection RTT by time",label:"Connection RTT by time",key:"connection-rtt-time-area"}],LargePlot:[],BigPlot:[]}},68756:function(t,e,n){n.d(e,{Z:function(){return v}});var i=n(1413),a=n(15671),o=n(43144),r=n(60136),s=n(29388),c=n(47313),l=n(45848),u=n(44090),A=n(62463),d=n(82937),f=n(42669),g=n(2983),m=n(62163),h=n(18210),p=n(95714),I=n(81191),y=n(8515),Z=(n(37700),n(46417));var C=[{key:"log",label:"Log",children:m.Z.LargePlot.sort((function(t,e){return function(t,e){return(t=t.toUpperCase())<(e=e.toUpperCase())?-1:t>e?1:0}(t.label,e.label)}))}],v=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).handleMenuClick=function(t){var e;console.log(t),p.ZP.open({key:t.key,type:"loading",content:"Uploading change...",style:{marginTop:"8vh"},duration:0}),fetch("http://192.168.217.183:8000/update/",(0,y.w)((e=t.key,JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_dashboard",collection:"config",filter:{user:"default"},update:[{$set:{dashboardLayout:{coordinates:{graph:e,type:"large"}}}}]})).replace("coordinates",i.props.position))).then((function(t){return t.json()})).then((function(){p.ZP.destroy(t.key),p.ZP.open({key:t.key,type:"success",content:"Success, reloading the page",style:{marginTop:"8vh"},duration:2.5}).then(window.location.reload(!0))})).catch((function(t){console.log(t)}))},i}return(0,o.Z)(n,[{key:"render",value:function(){return(0,Z.jsx)(l.Z,(0,i.Z)((0,i.Z)({},u.Z.maincard),{},{children:(0,Z.jsxs)(A.Z,(0,i.Z)((0,i.Z)({},u.Z.stack),{},{children:[(0,Z.jsxs)("div",{className:"div-pai",children:[this.props.static?(0,Z.jsx)(Z.Fragment,{}):(0,Z.jsx)("div",{className:"MoreOptions",children:(0,Z.jsx)(I.Z,{menu:{items:C,onClick:this.handleMenuClick},trigger:["click"],children:(0,Z.jsx)(h.Z,{sx:{color:"#b3b3b3"}})})}),(0,Z.jsx)("div",{className:"TitleBox",children:(0,Z.jsx)(d.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:(0,Z.jsx)(f.Z,(0,i.Z)((0,i.Z)({},u.Z.typography.title),{},{children:this.props.title?this.props.title:"No graph find"}))})})]}),this.props.graph?this.props.graph:(0,Z.jsx)(g.Z,{animation:"wave",height:202,width:"100%"})]}))}))}}]),n}(c.Component)},62163:function(t,e,n){n.d(e,{Z:function(){return j}});var i=n(1413),a=n(15671),o=n(43144),r=n(60136),s=n(29388),c=n(47313),l=n(82937),u=n(62463),A=n(42669),d=n(44090),f=n(20694),g=n(8515),m=n(65590),h=n(31259),p=n(25247),I=n(88741),y=n(45348),Z=n(37312),C=n(35672),v=n(58698),B=n(49599),x=n(14598),E=n(86227),$=n(46417),w=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var o;return(0,a.Z)(this,n),(o=e.call(this,t)).componentDidMount=function(){o.refreshList(),o.timer()},o.componentWillUnmount=function(){clearInterval(o.timer)},o.timer=function(){setInterval((function(){o.refreshList()}),5e3)},o.icon=function(t,e){switch(t.level){case 0:return(0,$.jsx)(I.Z,(0,i.Z)({color:"success"},e));case 1:return(0,$.jsx)(p.Z,(0,i.Z)({color:"warning"},e));case 2:return(0,$.jsx)(h.Z,(0,i.Z)({color:"error"},e));default:return(0,$.jsx)(y.Z,(0,i.Z)({color:"info"},e))}},o.state={data:[{level:-1}],ticks:-1,meta:[],msg:"",level:-1},o}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,g.H)(),(0,g.w)(this.props.pipeline)).then((function(t){return t.json()})).then((function(e){t.setState({data:e}),t.setState({msg:t.state.data[0].message})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)})),this.generate()}},{key:"generate",value:function(){var t=this,e=[];this.state.data.forEach((function(n){e.push((0,$.jsxs)(v.ZP,{children:[(0,$.jsx)(B.Z,{children:(0,$.jsx)(E.Z,(0,i.Z)((0,i.Z)({},d.Z.statusIcon.avatar),{},{children:t.icon(n,d.Z.statusIcon.popup.icon)}))}),(0,$.jsx)(x.Z,{primary:(0,$.jsx)(A.Z,(0,i.Z)((0,i.Z)({},d.Z.statusIcon.popup.typography.primary),{},{children:n.message})),secondary:(0,$.jsx)(A.Z,(0,i.Z)((0,i.Z)({},d.Z.statusIcon.popup.typography.secondary),{},{children:n.dateTime}))})]}))})),this.setState({meta:e})}},{key:"render",value:function(){return(0,$.jsx)(u.Z,(0,i.Z)((0,i.Z)({},d.Z.stack),{},{children:(0,$.jsx)(f.Z,(0,i.Z)((0,i.Z)({content:(0,$.jsx)(C.Z,{dense:!0,children:this.state.meta})},d.Z.statusIcon.popup.popover),{},{children:(0,$.jsx)(Z.Z,{title:this.state.msg,children:(0,$.jsx)(m.Z,(0,i.Z)((0,i.Z)({},d.Z.statusIcon.badge),{},{badgeContent:(0,$.jsx)(E.Z,(0,i.Z)((0,i.Z)({},d.Z.statusIcon.avatar),{},{children:this.icon(this.state.data[0],d.Z.statusIcon.icon.badge)})),children:(0,$.jsx)(this.props.icon,(0,i.Z)({},d.Z.statusIcon.icon.main))}))})}))}))}}]),n}(c.Component),M=n(48018),D=n(75406),S=n(5847),R=n(97570),k=n(62607),F=n(5309),b={battery:JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Diagnostics",pipeline:[{$match:{name:"/Motors/motor_node: Battery"}},{$sort:{dateTime:-1}},{$limit:5}]}),lidar:JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Diagnostics",pipeline:[{$match:{name:"/Hokuyo/urg node/Hardware Status"}},{$sort:{dateTime:-1}},{$limit:5}]}),encoders:JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Diagnostics",pipeline:[{$match:{name:"/Motors/motor_node: FirmwareOptions"}},{$sort:{dateTime:-1}},{$limit:5}]}),motors:JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Diagnostics",pipeline:[{$match:{name:"/Motors"}},{$sort:{dateTime:-1}},{$limit:5}]}),amcl:JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Diagnostics",pipeline:[{$match:{name:"/Other/amcl: Standard deviation"}},{$sort:{dateTime:-1}},{$limit:5}]}),motorPower:JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Diagnostics",pipeline:[{$match:{name:"/Motors/motor_node: MotorPower"}},{$sort:{dateTime:-1}},{$limit:5}]})},T=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){return(0,$.jsxs)(l.ZP,(0,i.Z)((0,i.Z)({container:!0},d.Z.statusIcon.container),{},{children:[(0,$.jsx)(l.ZP,(0,i.Z)((0,i.Z)({item:!0},d.Z.statusIcon.item),{},{children:(0,$.jsxs)(u.Z,(0,i.Z)((0,i.Z)({},d.Z.stack),{},{children:[(0,$.jsx)(w,{icon:M.Z,pipeline:b.battery,title:"Battery"}),(0,$.jsx)(A.Z,(0,i.Z)((0,i.Z)({},d.Z.typography.subtitle),{},{children:"Battery"}))]}))})),(0,$.jsx)(l.ZP,(0,i.Z)((0,i.Z)({item:!0},d.Z.statusIcon.item),{},{children:(0,$.jsxs)(u.Z,(0,i.Z)((0,i.Z)({},d.Z.stack),{},{children:[(0,$.jsx)(w,{icon:D.Z,pipeline:b.lidar,title:"LiDAR"}),(0,$.jsx)(A.Z,(0,i.Z)((0,i.Z)({},d.Z.typography.subtitle),{},{children:"LiDAR"}))]}))})),(0,$.jsx)(l.ZP,(0,i.Z)((0,i.Z)({item:!0},d.Z.statusIcon.item),{},{children:(0,$.jsxs)(u.Z,(0,i.Z)((0,i.Z)({},d.Z.stack),{},{children:[(0,$.jsx)(w,{icon:S.Z,pipeline:b.encoders,title:"Encoders"}),(0,$.jsx)(A.Z,(0,i.Z)((0,i.Z)({},d.Z.typography.subtitle),{},{children:"Encoders"}))]}))})),(0,$.jsx)(l.ZP,(0,i.Z)((0,i.Z)({item:!0},d.Z.statusIcon.item),{},{children:(0,$.jsxs)(u.Z,(0,i.Z)((0,i.Z)({},d.Z.stack),{},{children:[(0,$.jsx)(w,{icon:R.Z,pipeline:b.motors,title:"Motors"}),(0,$.jsx)(A.Z,(0,i.Z)((0,i.Z)({},d.Z.typography.subtitle),{},{children:"Motors"}))]}))})),(0,$.jsx)(l.ZP,(0,i.Z)((0,i.Z)({item:!0},d.Z.statusIcon.item),{},{children:(0,$.jsxs)(u.Z,(0,i.Z)((0,i.Z)({},d.Z.stack),{},{children:[(0,$.jsx)(w,{icon:k.Z,pipeline:b.motorPower,title:"Motor Power"}),(0,$.jsx)(A.Z,(0,i.Z)((0,i.Z)({},d.Z.typography.subtitle),{},{children:"Motor Power"}))]}))})),(0,$.jsx)(l.ZP,(0,i.Z)((0,i.Z)({item:!0},d.Z.statusIcon.item),{},{children:(0,$.jsxs)(u.Z,(0,i.Z)((0,i.Z)({},d.Z.stack),{},{children:[(0,$.jsx)(w,{icon:F.Z,pipeline:b.amcl,title:"AMCL"}),(0,$.jsx)(A.Z,(0,i.Z)((0,i.Z)({},d.Z.typography.subtitle),{},{children:"AMCL"}))]}))}))]}))}}]),n}(c.Component),j={SimplePlot:[],LargePlot:[{plot:(0,$.jsx)(T,{}),title:"Subsystems status ",label:"Log status",key:"log-actual-status-log"}],BigPlot:[]}},70301:function(t,e,n){n.d(e,{Z:function(){return S}});var i=n(1413),a=n(93433),o=n(15671),r=n(43144),s=n(60136),c=n(29388),l=n(47313),u=n(36209),A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABYAAAASgCAAAAABk4bNwAAAABGdBTUEAALGPC/xhBQAAAAJiS0dEAP+Hj8y/AAAAB3RJTUUH5wEYCSswMCAhEAAAAAFvck5UAc+id5oAAAA1dEVYdGNvbW1lbnQAIENyZWF0ZWQgYnkgR0lNUCB2ZXJzaW9uIDIuMTAuMTggUE5NIHBsdWctaW4K6LhXEQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wMS0yNFQwOTo0Mzo0NyswMDowMH+dZbcAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDEtMjRUMDk6NDM6NDYrMDA6MDCot9a/AAAAWmVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAAhMAAwAAAAEAAQAAAAAAAAAAAEgAAAABAAAASAAAAAEfUvc0AAAZ80lEQVR42u3dC5bT1hZFUfe/b3SpxntFfTB/C1NZ2mbOjBBCSCF8rlduZFm+fAIgcakPAOBfJcAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBBggIsAAEQEGiAgwQESAASICDBARYICIAANEBJh9T09P9SHAnxBgVl2+7a4Ms0aAGXW5XJ7+H+H//+Xy/P03H/Mr/UD9++cRWEaMuvxnXRRgPoplxKjnMxDf+4gwXi7/za/Dv8cyYpQAs88yYpQAs88yYpQAs88yYtSPA/wRl6IJMB/FMmLUh+6Av8r4kwDzQSwjRv0kwD/YAX/3Q7/fLL9+sdfvCTAfxDJi1M8C/PzH57dnvP31XgLMh7GMGPWzUxAfQYD5GJYRo37yItzPXpv7ywSYv8EyYtR/VFoB5gNZRowSYPZZRowSYPZZRowSYPZZRowSYPZZRowSYPZZRowSYPZZRoxqA6zA/A1WEZsuAsw+q4hNAswDsIrYJMA8AKuITQLMA7CK2PRf3XVHgPlAVhGb7IB5AFYRm+yAeQBWEZvsgHkAVhGbBJgHYBWxySkIHoBVxKZ+ByzBn57H8PInf8ZDx6YTBLh+CP6zR/rXBPgOHjpG5QF+Poinz58C+vy5yZe3v3k603Pqy3E+/wfr8n68Lwf6tz4y+nOE33LMER4vNvU74KfPf3yO7+WlwZfXH7n63lvtLq+f1/z6k5+evvrBl4y9RPL957/85fL2T19/pddvYl8ehe9KXi+MLR4uzugtVu8leuvYp8vTl4C1AV7xwY/C09t/EV5/qF46WwSYu11+9qS72g59PlN4+fT7M4rnCMsdMX7/+5d/VB/bR//On9627m/q1bhF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wAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwAARAQaICDBARIABIgIMEBFggIgAA0QEGCAiwACR/wFivDbokXRo8AAAAABJRU5ErkJggg==",d=n(8515),f=n(44090),g=n(46417),m=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Position_AMCL",pipeline:[{$project:{dateTime:1,x:"$pose.pose.position.x",y:"$pose.pose.position.y"}},{$sort:{dateTime:-1}},{$limit:1}]}),h=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Position_AMCL",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},x:{$round:["$pose.pose.position.x",1]},y:{$round:["$pose.pose.position.y",1]}}},{$unionWith:{coll:"Connection",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},Connect:{$toInt:["$Connect"]},RTT:1}}]}},{$group:{_id:"$dateTime",x:{$first:"$x"},y:{$first:"$y"},yaw:{$avg:"$orient.yaw"},Connect:{$avg:"$Connect"},RTT:{$avg:"$RTT"},xy:{$first:"$xy"}}},{$addFields:{xy:{$concat:[{$toString:["$x"]},":",{$toString:["$y"]}]}}},{$group:{_id:"$xy",x:{$first:"$x"},y:{$first:"$y"},yaw:{$avg:"$orient.yaw"},Connect:{$avg:"$Connect"},RTT:{$avg:"$RTT"},xy:{$first:"$xy"}}},{$set:{Connect:{$round:["$Connect",2]}}}]}),p=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshMap(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshPos()}),5e3)},i.config={type:"density",xField:"x",yField:"y",xAxis:!1,yAxis:!1,colorField:"Connect",limitInPlot:!0,animation:!1,sizeField:5,color:"#F51D27-#FA541C-#FF8C12-#FFC838-#FAFFA8-#80FF73-#12CCCC-#1890FF-#6E32C2",annotations:[{type:"image",start:[-30.2,28.6],end:[40.2,-30.6],src:A}],legend:{position:"bottom"},tooltip:{fields:["xy","Connect"],showTitle:!1,formatter:function(t){return{name:"Connectivity of ".concat(t.xy),value:"".concat(Math.round(100*t.Connect),"%")}}}},i.state={data:[{x:-30.2,y:-30.6,Connect:null},{x:40.2,y:28.6,Connect:null}],last:{x:0,y:0,yaw:2},ticks:-1,quality:0},i}return(0,r.Z)(n,[{key:"refreshPos",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(m)).then((function(t){return t.json()})).then((function(e){t.setState({last:e[0]})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"refreshMap",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(h)).then((function(t){return t.json()})).then((function(e){t.setState({data:[].concat((0,a.Z)(e),[{x:-30.2,y:-30.6,RTT:0},{x:40.2,y:28.6,RTT:0}])}),console.log(t.state.data)})).then((function(){t.refreshPos()})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=[].concat((0,a.Z)(this.config.annotations),[{type:"dataMarker",position:[this.state.last.x,this.state.last.y],rotate:this.state.last.yaw},{type:"text",content:"(".concat(Math.round(this.state.last.x),",").concat(Math.round(this.state.last.y),")"),style:{fontSize:22,fill:"#fff",textAlign:"left"},position:["1%","3%"]}]);return(0,g.jsx)(u.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),f.Z.map),{},{data:this.state.data,annotations:t}))}}]),n}(l.Component),I=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Position_AMCL",pipeline:[{$project:{dateTime:1,x:"$pose.pose.position.x",y:"$pose.pose.position.y"}},{$sort:{dateTime:-1}},{$limit:1}]}),y=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Position_AMCL",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},x:{$round:["$pose.pose.position.x",1]},y:{$round:["$pose.pose.position.y",1]}}},{$addFields:{xy:{$concat:[{$toString:["$x"]},":",{$toString:["$y"]}]}}},{$group:{_id:"$xy",x:{$avg:"$x"},y:{$avg:"$y"},yaw:{$avg:"$orient.yaw"},count:{$count:{}}}}]}),Z=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshMap(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshPos()}),5e3)},i.config={type:"density",xField:"x",yField:"y",xAxis:!1,yAxis:!1,colorField:"count",limitInPlot:!0,animation:!1,sizeField:5,color:"#F51D27-#FA541C-#FF8C12-#FFC838-#FAFFA8-#80FF73-#12CCCC-#1890FF-#6E32C2",annotations:[{type:"image",start:[-30.2,28.6],end:[40.2,-30.6],src:A}],legend:{position:"bottom"},tooltip:{fields:["_id","count"],title:"Count of occurencies",formatter:function(t){return{name:t._id,value:t.count}}}},i.state={data:[{x:-30.2,y:-30.6,cont:null},{x:40.2,y:28.6,count:null}],last:{x:0,y:0,yaw:2},ticks:-1,quality:0},i}return(0,r.Z)(n,[{key:"refreshPos",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(I)).then((function(t){return t.json()})).then((function(e){t.setState({last:e[0]})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"refreshMap",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(y)).then((function(t){return t.json()})).then((function(e){t.setState({data:[].concat((0,a.Z)(e),[{x:-30.2,y:-30.6,count:null},{x:40.2,y:28.6,count:null}])})})).then((function(){t.refreshPos()})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=[].concat((0,a.Z)(this.config.annotations),[{type:"dataMarker",position:[this.state.last.x,this.state.last.y],rotate:this.state.last.yaw},{type:"text",content:"(".concat(Math.round(this.state.last.x),",").concat(Math.round(this.state.last.y),")"),style:{fontSize:22,fill:"#fff",textAlign:"left"},position:["1%","3%"]}]);return(0,g.jsx)(u.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),f.Z.map),{},{data:this.state.data,annotations:t}))}}]),n}(l.Component),C=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Position_AMCL",pipeline:[{$project:{dateTime:1,x:"$pose.pose.position.x",y:"$pose.pose.position.y"}},{$sort:{dateTime:-1}},{$limit:1}]}),v=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Position_AMCL",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},x:{$round:["$pose.pose.position.x",1]},y:{$round:["$pose.pose.position.y",1]}}},{$unionWith:{coll:"Connection",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},Connect:{$toInt:["$Connect"]},RTT:1}}]}},{$group:{_id:"$dateTime",x:{$first:"$x"},y:{$first:"$y"},yaw:{$avg:"$orient.yaw"},Connect:{$avg:"$Connect"},RTT:{$avg:"$RTT"},xy:{$first:"$xy"}}},{$addFields:{xy:{$concat:[{$toString:["$x"]},":",{$toString:["$y"]}]}}},{$group:{_id:"$xy",x:{$first:"$x"},y:{$first:"$y"},yaw:{$avg:"$orient.yaw"},Connect:{$avg:"$Connect"},RTT:{$avg:"$RTT"},xy:{$first:"$xy"}}},{$match:{Connect:{$gt:0}}},{$set:{RTT:{$round:["$RTT",2]}}}]}),B=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshMap(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshPos()}),5e3)},i.config={type:"density",xField:"x",yField:"y",xAxis:!1,yAxis:!1,colorField:"RTT",limitInPlot:!0,animation:!1,sizeField:5,color:"#6E32C2-#1890FF-#12CCCC-#80FF73-#FAFFA8-#FFC838-#FF8C12-#FA541C-#F51D27",annotations:[{type:"image",start:[-30.2,28.6],end:[40.2,-30.6],src:A}],legend:{position:"bottom"},tooltip:{fields:["xy","RTT"],showTitle:!1,formatter:function(t){return{name:"RTT of ".concat(t.xy),value:"".concat(Math.round(100*t.RTT)/100," ms")}}}},i.state={data:[{x:-30.2,y:-30.6,cont:null},{x:40.2,y:28.6,RTT:null}],last:{x:0,y:0,yaw:2},ticks:-1,quality:0},i}return(0,r.Z)(n,[{key:"refreshPos",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(C)).then((function(t){return t.json()})).then((function(e){t.setState({last:e[0]})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"refreshMap",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(v)).then((function(t){return t.json()})).then((function(e){t.setState({data:[].concat((0,a.Z)(e),[{x:-30.2,y:-30.6,RTT:0},{x:40.2,y:28.6,RTT:0}])})})).then((function(){t.refreshPos()})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=[].concat((0,a.Z)(this.config.annotations),[{type:"dataMarker",position:[this.state.last.x,this.state.last.y],rotate:this.state.last.yaw},{type:"text",content:"(".concat(Math.round(this.state.last.x),",").concat(Math.round(this.state.last.y),")"),style:{fontSize:22,fill:"#fff",textAlign:"left"},position:["1%","3%"]}]);return(0,g.jsx)(u.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),f.Z.map),{},{data:this.state.data,annotations:t}))}}]),n}(l.Component),x=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Position_AMCL",pipeline:[{$project:{dateTime:1,x:"$pose.pose.position.x",y:"$pose.pose.position.y"}},{$sort:{dateTime:-1}},{$limit:1}]}),E=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Position_AMCL",pipeline:[{$project:{dateTime:1,x:"$pose.pose.position.x",y:"$pose.pose.position.y"}},{$sort:{dateTime:-1}},{$limit:1},{$set:{count:0}}]}),$=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshMap(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshPos()}),5e3)},i.config={type:"density",xField:"x",yField:"y",xAxis:{min:-30.2,minLimit:-30.2,max:40.2,maxLimit:40.2,label:null},yAxis:{min:-30.6,minLimit:-30.6,max:28.6,maxLimit:28.6,label:null},colorField:"count",limitInPlot:!0,animation:!1,color:"#F51D27-#FA541C-#FF8C12-#FFC838-#FAFFA8-#80FF73-#12CCCC-#1890FF-#6E32C2",annotations:[{type:"image",start:[-30.2,28.6],end:[40.2,-30.6],src:A}],tooltip:{showTitle:!1,formatter:function(t){return{name:"X:".concat(Math.round(100*t.x)/100,"  Y:").concat(Math.round(100*t.y)/100)}}}},i.state={data:[{x:0,y:0,count:0}],last:{x:0,y:0,yaw:2},ticks:-1,quality:0},i}return(0,r.Z)(n,[{key:"refreshPos",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(x)).then((function(t){return t.json()})).then((function(e){t.setState({last:e[0]})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"refreshMap",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(E)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).then((function(){t.refreshPos()})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=[].concat((0,a.Z)(this.config.annotations),[{type:"dataMarker",position:[this.state.last.x,this.state.last.y],rotate:this.state.last.yaw},{type:"text",content:"(".concat(Math.round(this.state.last.x),",").concat(Math.round(this.state.last.y),")"),style:{fontSize:22,fill:"#fff",textAlign:"left"},position:["1%","3%"]}]);return(0,g.jsx)(u.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),f.Z.map),{},{data:this.state.data,annotations:t}))}}]),n}(l.Component),w=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Position_AMCL",pipeline:[{$project:{dateTime:1,x:"$pose.pose.position.x",y:"$pose.pose.position.y"}},{$sort:{dateTime:-1}},{$limit:1}]}),M=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Position_AMCL",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"second"}},x:"$pose.pose.position.x",y:"$pose.pose.position.y"}},{$addFields:{xy:{$concat:[{$toString:["$x"]},":",{$toString:["$y"]}]}}},{$group:{_id:"$xy",x:{$avg:"$x"},y:{$avg:"$y"},yaw:{$avg:"$orient.yaw"},dateTime:{$max:"$dateTime"}}},{$sort:{dateTime:-1}},{$limit:60},{$set:{start:{x:"$x",y:"$y"}}}]}),D=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshMap(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshMap()}),5e3)},i.config={xField:"x",yField:"y",xAxis:{min:-30.2,minLimit:-30.2,max:40.2,maxLimit:40.2,label:null},yAxis:{min:-30.6,minLimit:-30.6,max:28.6,maxLimit:28.6,label:null},colorField:"yaw",limitInPlot:!0,animation:!1,color:"#F51D27-#FA541C-#FF8C12-#FFC838-#FAFFA8-#80FF73-#12CCCC-#1890FF-#6E32C2",annotations:[{type:"image",start:[-30.2,28.6],end:[40.2,-30.6],src:A}],tooltip:{showTitle:!1,formatter:function(t){return{name:"X:".concat(Math.round(100*t.x)/100,"  Y:").concat(Math.round(100*t.y)/100)}}}},i.state={data:[{x:0,y:0,yaw:0}],last:{x:0,y:0,yaw:2},ticks:-1,quality:0},i}return(0,r.Z)(n,[{key:"refreshPos",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(w)).then((function(t){return t.json()})).then((function(e){t.setState({last:e[0]})})).then((function(){return clearInterval()})).catch((function(t){console.log(t)}))}},{key:"refreshMap",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(M)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).then((function(){t.refreshPos()})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=[];this.state.data.forEach((function(e){0==t.length?t.push({type:"line",style:{stroke:"#f8df72",lineWidth:2},start:[e.x,e.y],end:[e.x,e.y]}):t.unshift({type:"line",style:{stroke:"#f8df72",lineWidth:2},start:[e.x,e.y],end:t[0].start})}));var e=[].concat((0,a.Z)(this.config.annotations),t,[{type:"dataMarker",position:[this.state.last.x,this.state.last.y],rotate:this.state.last.yaw},{type:"text",content:"(".concat(Math.round(this.state.last.x),",").concat(Math.round(this.state.last.y),")"),style:{fontSize:22,fill:"#fff",textAlign:"left"},position:["1%","3%"]}]);return(0,g.jsx)(u.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),f.Z.map),{},{data:this.state.data,annotations:e}))}}]),n}(l.Component),S={SimplePlot:[],LargePlot:[],BigPlot:[{plot:(0,g.jsx)(p,{}),title:"Connectivity heatmap",label:"Connectivity heatmap",key:"map-heat-connectivity-map"},{plot:(0,g.jsx)(Z,{}),title:"Position heatmap",label:"Position heatmap",key:"map-heat-position-map"},{plot:(0,g.jsx)(B,{}),title:"RTT heatmap",label:"RTT heatmap",key:"map-heat-RTT-map"},{plot:(0,g.jsx)($,{}),title:"Position map",label:"Position map",key:"map-point-position-map"},{plot:(0,g.jsx)(D,{}),title:"Breadcrumbs map",label:"Breadcrumbs map",key:"map-point-breadcrumbs-map"}]}},59615:function(t,e,n){n.d(e,{Z:function(){return S}});var i=n(1413),a=n(93433),o=n(15671),r=n(43144),s=n(60136),c=n(29388),l=n(47313),u=n(82597),A=n(8515),d=n(44090),f=n(46417),g=function(t){return JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Motor",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},leftCurrent:1,rightCurrent:1}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",current:{$avg:"$"+t+"Current"}}},{$sort:{_id:-1}},{$limit:100},{$addFields:{side:t}}]})},m=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"current",seriesField:"side",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Motor current [A]"}},tooltip:{formatter:function(t){return null!=t.current?{name:"Current",value:t.current.toFixed(1)+" A"}:{}}}},i.state={data:[],right:[],left:[],ticks:-1},i}return(0,r.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,A.H)(),(0,A.w)(g("left"))).then((function(t){return t.json()})).then((function(e){t.setState({left:e})})).then((function(){fetch((0,A.H)(),(0,A.w)(g("right"))).then((function(t){return t.json()})).then((function(e){t.setState({right:e})})).then((function(){t.setState({data:[].concat((0,a.Z)(t.state.left),(0,a.Z)(t.state.right))}),clearInterval(t.timer)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,f.jsx)(u.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),d.Z.plot),{},{data:this.state.data}))}}]),n}(l.Component),h=n(20061),p=n(62463),I=n(42669),y=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Motor",pipeline:[{$project:{dateTime:1,left:"$leftCurrent",right:"$rightCurrent"}},{$sort:{dateTime:-1}},{$limit:1}]}),Z=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={color:{range:["#FF7772","#F5F16E","#82FF74"],measure:"#5B8FF9",target:"#39a3f4"}},i.data=function(){return[{title:"Right",ranges:[2,3,3.5],measures:[0],value:Math.round(100*i.state.data.right)/100},{title:"Left",ranges:[2,3,3.5],measures:[0],value:Math.round(100*i.state.data.left)/100}]},i.state={data:[],ticks:-1},i}return(0,r.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,A.H)(),(0,A.w)(y)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,f.jsxs)(p.Z,{children:[(0,f.jsx)(h.Z,(0,i.Z)((0,i.Z)({},this.config),{},{data:this.data()},d.Z.bullet.dual)),(0,f.jsx)(I.Z,(0,i.Z)((0,i.Z)({},d.Z.typography.subtitle),{},{children:"Current"}))]})}}]),n}(l.Component),C=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Motor",pipeline:[{$project:{dateTime:1,left:"$leftPwmDrive",right:"$rightPwmDrive"}},{$sort:{_id:-1}},{$limit:1}]}),v=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={color:{range:["#FF7772","#F5F16E","#82FF74"],measure:"#5B8FF9",target:"#39a3f4"}},i.data=function(){return[{title:"Right",ranges:[250,300,350],measures:[0],value:Math.round(100*i.state.data.right)/100},{title:"Left",ranges:[250,300,350],measures:[0],value:Math.round(100*i.state.data.left)/100}]},i.state={data:[],ticks:-1},i}return(0,r.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,A.H)(),(0,A.w)(C)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,f.jsxs)(p.Z,{children:[(0,f.jsx)(h.Z,(0,i.Z)((0,i.Z)({},this.config),{},{data:this.data()},d.Z.bullet.dual)),(0,f.jsx)(I.Z,(0,i.Z)((0,i.Z)({},d.Z.typography.subtitle),{},{children:"PWM"}))]})}}]),n}(l.Component),B=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Motor",pipeline:[{$project:{dateTime:1,left:"$leftRotateRate",right:"$rightRotateRate"}},{$sort:{_id:-1}},{$limit:1}]}),x=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={color:{range:["#FF7772","#F5F16E","#82FF74"],measure:"#5B8FF9",target:"#39a3f4"}},i.data=function(){return[{title:"Right",ranges:[65,85,100],measures:[0],value:Math.round(100*i.state.data.right)/100},{title:"Left",ranges:[65,85,100],measures:[0],value:Math.round(100*i.state.data.left)/100}]},i.state={data:[],ticks:-1},i}return(0,r.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,A.H)(),(0,A.w)(B)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,f.jsxs)(p.Z,{children:[(0,f.jsx)(h.Z,(0,i.Z)((0,i.Z)({},this.config),{},{data:this.data()},d.Z.bullet.dual)),(0,f.jsx)(I.Z,(0,i.Z)((0,i.Z)({},d.Z.typography.subtitle),{},{children:"Rot. rate"}))]})}}]),n}(l.Component),E=function(){return(0,f.jsxs)(p.Z,(0,i.Z)((0,i.Z)({},d.Z.bullet.stack),{},{children:[(0,f.jsx)(Z,{}),(0,f.jsx)(v,{}),(0,f.jsx)(x,{})]}))},$=function(t){return JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Motor",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},leftPwmDrive:1,rightPwmDrive:1}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",PWM:{$avg:"$"+t+"PwmDrive"}}},{$sort:{_id:-1}},{$limit:100},{$addFields:{side:t}}]})},w=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"PWM",seriesField:"side",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Motor PWM [%]"}},tooltip:{formatter:function(t){return null!=t.PWM?{name:"PWM",value:t.PWM.toFixed(1)+" %"}:{}}}},i.state={data:[],right:[],left:[],ticks:-1},i}return(0,r.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,A.H)(),(0,A.w)($("left"))).then((function(t){return t.json()})).then((function(e){t.setState({left:e})})).then((function(){fetch((0,A.H)(),(0,A.w)($("right"))).then((function(t){return t.json()})).then((function(e){t.setState({right:e})})).then((function(){t.setState({data:[].concat((0,a.Z)(t.state.left),(0,a.Z)(t.state.right))}),clearInterval(t.timer)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,f.jsx)(u.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),d.Z.plot),{},{data:this.state.data}))}}]),n}(l.Component),M=function(t){return JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Motor",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},leftRotateRate:1,rightRotateRate:1}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",rrate:{$avg:"$"+t+"RotateRate"}}},{$sort:{_id:-1}},{$limit:100},{$addFields:{side:t}}]})},D=function(t){(0,s.Z)(n,t);var e=(0,c.Z)(n);function n(t){var i;return(0,o.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"rrate",seriesField:"side",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Motor rotation rate [rad/s]"}},tooltip:{formatter:function(t){return null!=t.rrate?{name:"Rotation rate",value:t.rrate.toFixed(1)+" rad/s"}:{}}}},i.state={data:[],right:[],left:[],ticks:-1},i}return(0,r.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,A.H)(),(0,A.w)(M("left"))).then((function(t){return t.json()})).then((function(e){t.setState({left:e})})).then((function(){fetch((0,A.H)(),(0,A.w)(M("right"))).then((function(t){return t.json()})).then((function(e){t.setState({right:e})})).then((function(){t.setState({data:[].concat((0,a.Z)(t.state.left),(0,a.Z)(t.state.right))}),clearInterval(t.timer)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,f.jsx)(u.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),d.Z.plot),{},{data:this.state.data}))}}]),n}(l.Component),S={SimplePlot:[{plot:(0,f.jsx)(m,{}),title:"Motors currents by time",label:"Current by time",key:"motors-current-time-are"},{plot:(0,f.jsx)(E,{}),title:"Motors actual states",label:"Bullets",key:"motors-motors--bullet"},{plot:(0,f.jsx)(w,{}),title:"Motors PWM by time",label:"PWM by time",key:"motors-PWM-time-are"},{plot:(0,f.jsx)(D,{}),title:"Motors rotation rate by time",label:"Rotation rate by time",key:"motors-rrate-time-are"}],LargePlot:[],BigPlot:[]}},15577:function(t,e,n){n.d(e,{Z:function(){return h}});var i=n(1413),a=n(15671),o=n(43144),r=n(60136),s=n(29388),c=n(47313),l=n(46567),u=n(8515),A=n(44090),d=n(46417),f=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Nodes",pipeline:[{$sort:{dateTime:-1}},{$limit:1},{$unwind:{path:"$nodes",preserveNullAndEmptyArrays:!1}},{$unwind:{path:"$nodes.serv",preserveNullAndEmptyArrays:!1}},{$group:{_id:"$nodes.node",title:{$first:"$nodes.node"},items:{$first:{text:"$nodes.conn.Pid"}}}},{$project:{_id:0,id:"$_id",value:{title:"$title",items:"$items"}}}]}),g=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Nodes",pipeline:[{$sort:{dateTime:-1}},{$limit:1},{$unwind:{path:"$nodes",preserveNullAndEmptyArrays:!1}},{$unwind:{path:"$nodes.conn.Connections",preserveNullAndEmptyArrays:!1}},{$project:{_id:0,target:{$cond:[{$eq:["$nodes.conn.Connections.direction","outbound "]},"$nodes.conn.Connections.to","$nodes.node"]},source:{$cond:[{$eq:["$nodes.conn.Connections.direction","outbound "]},"$nodes.node","$nodes.conn.Connections.to"]},value:"$nodes.conn.Connections.topic"}},{$match:{$expr:{$and:[{$ne:["$target","$source"]}]},target:{$nin:["/rosout"]},source:{$nin:["/rosout"]}}},{$sort:{source:1,target:1}}]}),m=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshNodes(),i.refreshEdges()},i.config={autoFit:!0,fitCenter:!0,animate:!1,nodeCfg:{type:"ellipse",size:[140,35],items:{padding:6,containerStyle:{fill:"#fff"},style:function(t,e,n){return{icon:{width:12,height:12},value:{fill:"#118980"},text:{fill:"#aaa"}}[n]}},nodeStateStyles:{hover:{stroke:"#1890ff",lineWidth:2}},title:{containerStyle:{fill:"transparent"},style:{fill:"#000",fontSize:12}},style:{fill:"#cdcdcd",stroke:"#2e2f33",radius:[2,2,2,2]},anchorPoints:[[0,.5],[1,.5],[.5,0],[.5,1]]},edgeCfg:{type:"quadratic",endArrow:{fill:"#007acc",strokeOpacity:.45},label:{style:{fill:"#2e2f33",fontSize:12,fillOpacity:1}},style:{stroke:"#007acc",lineWidth:2,strokeOpacity:.5},edgeStateStyles:{hover:{lineWidth:2,strokeOpacity:1}}},behaviors:["drag-canvas","zoom-canvas","drag-node"]},i.state={data:{edges:[{}],nodes:[{}]},edges:[],nodes:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshNodes",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(f)).then((function(t){return t.json()})).then((function(e){t.setState({nodes:e}),t.refreshEdges()})).catch((function(t){console.log(t)}))}},{key:"refreshEdges",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(g)).then((function(t){return t.json()})).then((function(e){t.setState({edges:e}),t.setState({data:{edges:t.state.edges,nodes:t.state.nodes}}),t.forceUpdate()})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.map),{},{data:this.state.data}))}}]),n}(c.Component),h={SimplePlot:[],LargePlot:[],BigPlot:[{plot:(0,d.jsx)(m,{}),title:"Nodes graph",label:"Nodes graph",key:"nodes-nodes-actual-graph"}]}},75079:function(t,e,n){n.d(e,{Z:function(){return p}});var i=n(1413),a=n(15671),o=n(43144),r=n(60136),s=n(29388),c=n(47313),l=n(90722),u=n(8515),A=n(44090),d=n(46417),f=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Position_AMCL",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},pose:1}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",pose:{$avg:"$pose.pose.orientation.yaw"}}},{$sort:{_id:-1}},{$limit:100}]}),g=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"pose",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Robot pose [rad]"}},tooltip:{formatter:function(t){return null!=t.pose?{name:"Orietation",value:t.pose.toFixed(1)+" rad"}:{}}}},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(f)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.plot),{},{data:this.state.data}))}}]),n}(c.Component),m=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_datalake",collection:"Position_Odometry",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},pose:1}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",pose:{$avg:"$pose.pose.orientation.yaw"}}},{$sort:{_id:-1}},{$limit:100}]}),h=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).componentDidMount=function(){i.refreshList(),i.timer()},i.componentWillUnmount=function(){clearInterval(i.timer)},i.timer=function(){setInterval((function(){i.refreshList()}),5e3)},i.config={xField:"_id",yField:"pose",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Robot pose [rad]"}},tooltip:{formatter:function(t){return null!=t.pose?{name:"Orietation",value:t.pose.toFixed(1)+" rad"}:{}}}},i.state={data:[],ticks:-1},i}return(0,o.Z)(n,[{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(m)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).then((function(){clearInterval(t.timer)})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,d.jsx)(l.Z,(0,i.Z)((0,i.Z)((0,i.Z)({},this.config),A.Z.plot),{},{data:this.state.data}))}}]),n}(c.Component),p={SimplePlot:[{plot:(0,d.jsx)(g,{}),title:"AMCL yaw by time",label:"AMCL yaw by time",key:"AMCL-yaw-time-are"},{plot:(0,d.jsx)(h,{}),title:"Odometry yaw by time",label:"Odometry yaw by time",key:"odometry-yaw-time-are"}],LargePlot:[],BigPlot:[]}},79298:function(t,e,n){n.d(e,{Z:function(){return w}});var i=n(1413),a=n(15671),o=n(43144),r=n(60136),s=n(29388),c=n(47313),l=n(45848),u=n(44090),A=n(62463),d=n(82937),f=n(42669),g=n(2983),m=n(57689),h=n(59615),p=n(3323),I=n(75079),y=n(58594),Z=n(18210),C=n(95714),v=n(81191),B=n(8515),x=(n(37700),n(46417));function E(t,e){return(t=t.toUpperCase())<(e=e.toUpperCase())?-1:t>e?1:0}var $=[{key:"battery",label:"Battery",children:m.Z.SimplePlot.sort((function(t,e){return E(t.label,e.label)}))},{key:"motor",label:"Motor",children:h.Z.SimplePlot.sort((function(t,e){return E(t.label,e.label)}))},{key:"cpu",label:"Computer",children:p.Z.SimplePlot.sort((function(t,e){return E(t.label,e.label)}))},{key:"position",label:"Position",children:I.Z.SimplePlot.sort((function(t,e){return E(t.label,e.label)}))},{key:"connection",label:"Connection",children:y.Z.SimplePlot.sort((function(t,e){return E(t.label,e.label)}))}],w=function(t){(0,r.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,a.Z)(this,n),(i=e.call(this,t)).handleMenuClick=function(t){var e;console.log(t),C.ZP.open({key:t.key,type:"loading",content:"Uploading change...",style:{marginTop:"8vh"},duration:0}),fetch("http://192.168.217.183:8000/update/",(0,B.w)((e=t.key,JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_dashboard",collection:"config",filter:{user:"default"},update:[{$set:{dashboardLayout:{coordinates:{graph:e,type:"simple"}}}}]})).replace("coordinates",i.props.position))).then((function(){C.ZP.destroy(t.key),C.ZP.open({key:t.key,type:"success",content:"Success, reloading the page",style:{marginTop:"8vh"},duration:2.5}).then(window.location.reload(!0))})).catch((function(t){console.log(t)}))},i}return(0,o.Z)(n,[{key:"render",value:function(){return(0,x.jsx)(l.Z,(0,i.Z)((0,i.Z)({},u.Z.maincard),{},{children:(0,x.jsxs)(A.Z,(0,i.Z)((0,i.Z)({},u.Z.stack),{},{children:[(0,x.jsxs)("div",{className:"div-pai",children:[this.props.static?(0,x.jsx)(x.Fragment,{}):(0,x.jsx)("div",{className:"MoreOptions",children:(0,x.jsx)(v.Z,{menu:{items:$,onClick:this.handleMenuClick},trigger:["click"],children:(0,x.jsx)(Z.Z,{sx:{color:"#b3b3b3"}})})}),(0,x.jsx)("div",{className:"TitleBox",children:(0,x.jsx)(d.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:(0,x.jsx)(f.Z,(0,i.Z)((0,i.Z)({},u.Z.typography.title),{},{children:this.props.title?this.props.title:"No graph find"}))})})]}),this.props.graph?this.props.graph:(0,x.jsx)(g.Z,{animation:"wave",height:202,width:"100%"})]}))}))}}]),n}(c.Component)},44090:function(t,e,n){var i=n(63509),a={bullet:{simple:{measureField:"measures",rangeField:"ranges",targetField:"value",xField:"title",size:{range:30,measure:0,target:30},height:50,width:300,xAxis:{line:null},yAxis:!1,label:{measure:!1,target:!0},animation:!1},dual:{measureField:"measures",rangeField:"ranges",targetField:"value",xField:"title",size:{range:30,measure:0,target:30},height:178,width:90,xAxis:{line:null},yAxis:!1,label:{measure:!1,target:!0},layout:"vertical",animation:!1},stack:{direction:"row",divider:(0,n(46417).jsx)(i.Z,{orientation:"vertical",flexItem:!0}),justifyContent:"space-evenly",alignItems:"center",spacing:0}},plot:{smooth:!0,animation:!1,style:{width:"100%",height:200}},typography:{title:{align:"center",variant:"h5",color:"textSecondary"},subtitle:{align:"center",variant:"h5",color:"textSecondary"}},stack:{direction:"column",alignItems:"center",justifyContent:"space-evenly",spacing:1,sx:{mt:1,mr:1,ml:1,mb:1}},maincard:{xs:1,sm:1,md:1,lg:1,xl:1,sx:{mt:1,mr:1,ml:1,mb:1},height:"100%",content:!1},box:{xs:1,sm:1,md:1,lg:1,xl:1,sx:{mt:1,mr:1,ml:1,mb:1,display:"grid",gridAutoRows:"100%",gap:1},height:"100%"},grid:{direction:"row",justifyContent:"space-between",alignItems:"stretch"},map:{style:{width:"100%",height:458}},statusIcon:{popup:{icon:{sx:{width:35,height:35}},typography:{primary:{align:"left",variant:"h5",color:"textPrimary"},secondary:{align:"left",variant:"body1",color:"textSecondary"}},popover:{title:"Log",trigger:"click"}},badge:{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},size:"lg"},avatar:{sx:{bgcolor:"transparent"}},icon:{main:{color:"gray",sx:{height:107,width:67}},badge:{sx:{width:37,height:37}}},container:{direction:"row",justifyContent:"center",alignItems:"center",height:"100%"},item:{xs:12,sm:6,md:4,lg:2,xl:2,sx:{height:202}}}};e.Z=a}}]);