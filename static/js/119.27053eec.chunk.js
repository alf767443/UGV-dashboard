"use strict";(self.webpackChunkcedri_ugv_dashboard=self.webpackChunkcedri_ugv_dashboard||[]).push([[119],{2122:function(t,e,n){n.d(e,{Z:function(){return v}});var a=n(1413),i=n(15671),r=n(43144),c=n(60136),o=n(27277),s=n(47313),l=n(90722),u=n(8515),d=n(8200),f=n(44090),m=n(16157),h=n(62463),g=n(42669),p=n(46417),Z=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},current:{$cond:[{$eq:["NaN","$current"]},null,"$current"]}}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",current:{$avg:"$current"}}},{$sort:{_id:-1}},{$limit:100}]}),v=function(t){(0,c.Z)(n,t);var e=(0,o.Z)(n);function n(t){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList(),a.timer()},a.componentWillUnmount=function(){clearInterval(a.timer)},a.timer=function(){setInterval((function(){a.canUpdate()}),1e3)},a.config={padding:"auto",xField:"_id",yField:"current",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Battery current [A]"}},tooltip:{formatter:function(t){return null!=t.current?{name:"Current",value:t.current.toFixed(1)+" A"}:{}}},smooth:!0,animation:!1},a.state={data:[],ticks:-1},a}return(0,r.Z)(n,[{key:"canUpdate",value:function(){JSON.parse(window.localStorage.getItem("fromLocal"))||this.state.ticks<=0?(this.setState({ticks:10}),this.refreshList()):JSON.parse(window.localStorage.getItem("fromLocal"))||this.setState({ticks:this.state.ticks-1})}},{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(Z)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,p.jsx)(d.Z,{sx:f.Z.maincard.sx,content:f.Z.maincard.content,children:(0,p.jsx)(m.Z,{sx:f.Z.box.sx,children:(0,p.jsxs)(h.Z,{spacing:f.Z.stack.spacing,direction:f.Z.stack.direction,alignItems:f.Z.stack.alignItems,children:[(0,p.jsx)(g.Z,{variant:f.Z.typography.title.variant,color:f.Z.typography.title.color,children:"Battery current by time"}),(0,p.jsx)(l.Z,(0,a.Z)((0,a.Z)({},this.config),{},{data:this.state.data},f.Z.graph.medium))]})})})}}]),n}(s.Component)},88674:function(t,e,n){n.d(e,{Z:function(){return j}});var a=n(44090),i=n(1413),r=n(15671),c=n(43144),o=n(60136),s=n(27277),l=n(47313),u=n(20061),d=n(8515),f=n(46417),m=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{dateTime:1,percentage:1}},{$sort:{dateTime:-1}},{$limit:1}]}),h=function(t){(0,o.Z)(n,t);var e=(0,s.Z)(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList(),a.timer()},a.componentWillUnmount=function(){clearInterval(a.timer)},a.timer=function(){setInterval((function(){a.canUpdate()}),1e3)},a.config={measureField:"measures",rangeField:"ranges",targetField:"value",xField:"title",animation:!1,color:{range:["#FF7772","#FFBC6D","#F5F16E","#BAFF7D","#82FF74"],measure:"#5B8FF9",target:"#39a3f4"}},a.data=function(){return[{title:"Percentage",ranges:[20,40,60,80,100],measures:[0],value:Math.round(100*a.state.data.percentage)}]},a.state={data:[],ticks:-1},a}return(0,c.Z)(n,[{key:"canUpdate",value:function(){JSON.parse(window.localStorage.getItem("fromLocal"))||this.state.ticks<=0?(this.setState({ticks:10}),this.refreshList()):JSON.parse(window.localStorage.getItem("fromLocal"))||this.setState({ticks:this.state.ticks-1})}},{key:"refreshList",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(m)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,f.jsx)(u.Z,(0,i.Z)((0,i.Z)({},this.config),{},{data:this.data()},a.Z.bullet.simple))}}]),n}(l.Component),g=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{dateTime:1,current:1}},{$sort:{dateTime:-1}},{$limit:1}]}),p=function(t){(0,o.Z)(n,t);var e=(0,s.Z)(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList(),a.timer()},a.componentWillUnmount=function(){clearInterval(a.timer)},a.timer=function(){setInterval((function(){a.canUpdate()}),1e3)},a.config={measureField:"measures",rangeField:"ranges",targetField:"value",xField:"title",animation:!1,color:{range:["#82FF74","#F5F16E","#FF7772"],measure:"#5B8FF9",target:"#39a3f4"}},a.data=function(){return[{title:"Current",ranges:[2,3,3.5],measures:[0],value:Math.round(100*a.state.data.current)/100}]},a.state={data:[],ticks:-1},a}return(0,c.Z)(n,[{key:"canUpdate",value:function(){JSON.parse(window.localStorage.getItem("fromLocal"))||this.state.ticks<=0?(this.setState({ticks:10}),this.refreshList()):JSON.parse(window.localStorage.getItem("fromLocal"))||this.setState({ticks:this.state.ticks-1})}},{key:"refreshList",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(g)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,f.jsx)(u.Z,(0,i.Z)((0,i.Z)({},this.config),{},{data:this.data()},a.Z.bullet.simple))}}]),n}(l.Component),Z=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{dateTime:1,voltage:1}},{$sort:{dateTime:-1}},{$limit:1}]}),v=function(t){(0,o.Z)(n,t);var e=(0,s.Z)(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList(),a.timer()},a.componentWillUnmount=function(){clearInterval(a.timer)},a.timer=function(){setInterval((function(){a.canUpdate()}),1e3)},a.config={measureField:"measures",rangeField:"ranges",targetField:"value",xField:"title",animation:!1,color:{range:["#FF7772","#FFBC6D","#F5F16E","#BAFF7D","#82FF74","#FF7772"],measure:"#5B8FF9",target:"#39a3f4"}},a.data=function(){return[{title:"Voltage",ranges:[20,23,24,25,27,28],measures:[0],value:Math.round(100*a.state.data.voltage)/100}]},a.state={data:[],ticks:-1},a}return(0,c.Z)(n,[{key:"canUpdate",value:function(){JSON.parse(window.localStorage.getItem("fromLocal"))||this.state.ticks<=0?(this.setState({ticks:10}),this.refreshList()):JSON.parse(window.localStorage.getItem("fromLocal"))||this.setState({ticks:this.state.ticks-1})}},{key:"refreshList",value:function(){var t=this;fetch((0,d.H)(),(0,d.w)(Z)).then((function(t){return t.json()})).then((function(e){t.setState({data:e[0]})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,f.jsx)(u.Z,(0,i.Z)((0,i.Z)({},this.config),{},{data:this.data()},a.Z.bullet.simple))}}]),n}(l.Component),x=n(16157),y=n(62463),k=n(42669),F=n(8200),j=function(){return(0,f.jsx)(F.Z,{sx:a.Z.maincard.sx,content:a.Z.maincard.content,children:(0,f.jsx)(x.Z,{sx:a.Z.box.sx,children:(0,f.jsxs)(y.Z,{spacing:a.Z.stack.spacing,direction:a.Z.stack.direction,alignItems:a.Z.stack.alignItems,children:[(0,f.jsx)(k.Z,{variant:a.Z.typography.title.variant,color:a.Z.typography.title.color,children:"Battery actual states"}),(0,f.jsxs)(y.Z,{direction:"column",alignItems:"center",spacing:0,children:[(0,f.jsx)(h,{}),(0,f.jsx)(p,{}),(0,f.jsx)(v,{})]})]})})})}},83007:function(t,e,n){n.d(e,{Z:function(){return v}});var a=n(1413),i=n(15671),r=n(43144),c=n(60136),o=n(27277),s=n(47313),l=n(90722),u=n(8515),d=n(8200),f=n(44090),m=n(16157),h=n(62463),g=n(42669),p=n(46417),Z=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_buffer",collection:"Battery_Data",pipeline:[{$project:{dateTime:{$dateTrunc:{date:"$dateTime",unit:"minute"}},percentage:{$cond:[{$eq:["NaN","$percentage"]},null,"$percentage"]}}},{$densify:{field:"dateTime",range:{step:1,unit:"minute",bounds:"full"}}},{$group:{_id:"$dateTime",percentage:{$avg:"$percentage"}}},{$sort:{_id:-1}},{$limit:100},{$project:{percentage:{$multiply:["$percentage",100]}}}]}),v=function(t){(0,c.Z)(n,t);var e=(0,o.Z)(n);function n(t){var a;return(0,i.Z)(this,n),(a=e.call(this,t)).componentDidMount=function(){a.refreshList(),a.timer()},a.componentWillUnmount=function(){clearInterval(a.timer)},a.timer=function(){setInterval((function(){a.canUpdate()}),1e3)},a.config={padding:"auto",xField:"_id",yField:"percentage",xAxis:{tickCount:5,type:"time",mask:"DD/MMM/YY HH:mm",title:{text:"Time"}},yAxis:{tickCount:10,title:{text:"Battery percentage [%]"}},tooltip:{formatter:function(t){return null!=t.percentage?{name:"Percentage",value:t.percentage.toFixed(1)+"%"}:{}}},smooth:!0,animation:!1},a.state={data:[],ticks:-1},a}return(0,r.Z)(n,[{key:"canUpdate",value:function(){JSON.parse(window.localStorage.getItem("fromLocal"))||this.state.ticks<=0?(this.setState({ticks:10}),this.refreshList()):JSON.parse(window.localStorage.getItem("fromLocal"))||this.setState({ticks:this.state.ticks-1})}},{key:"refreshList",value:function(){var t=this;fetch((0,u.H)(),(0,u.w)(Z)).then((function(t){return t.json()})).then((function(e){t.setState({data:e})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return(0,p.jsx)(d.Z,{sx:f.Z.maincard.sx,content:f.Z.maincard.content,children:(0,p.jsx)(m.Z,{sx:f.Z.box.sx,children:(0,p.jsxs)(h.Z,{spacing:f.Z.stack.spacing,direction:f.Z.stack.direction,alignItems:f.Z.stack.alignItems,children:[(0,p.jsx)(g.Z,{variant:f.Z.typography.title.variant,color:f.Z.typography.title.color,children:"Battery percentage by time"}),(0,p.jsx)(l.Z,(0,a.Z)((0,a.Z)({},this.config),{},{data:this.state.data},f.Z.graph.medium))]})})})}}]),n}(s.Component)},11119:function(t,e,n){n.r(e);var a=n(82937),i=n(62463),r=n(55159),c=n(6750),o=n(88674),s=n(83007),l=n(2122),u=n(6781),d=n(74256),f=n(55412),m=n(46417);e.default=function(){return(0,m.jsxs)(a.ZP,{container:!0,rowSpacing:1.75,columnSpacing:1.75,children:[(0,m.jsx)(i.Z,{spacing:0,direction:"column",alignItems:"center",children:(0,m.jsxs)(a.ZP,{children:[(0,m.jsx)(s.Z,{}),(0,m.jsx)(l.Z,{}),(0,m.jsx)(o.Z,{})]})}),(0,m.jsx)(i.Z,{spacing:0,direction:"column",alignItems:"center",children:(0,m.jsxs)(a.ZP,{children:[(0,m.jsx)(f.Z,{}),(0,m.jsx)(d.Z,{}),(0,m.jsx)(u.Z,{})]})}),(0,m.jsxs)(a.ZP,{children:[(0,m.jsx)(r.Z,{}),(0,m.jsx)(c.Z,{})]})]})}},90722:function(t,e,n){var a=n(47313),i=n(78315),r=n(95436),c=n(96543),o=n(89755),s=n(91372),l=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]])}return n},u=(0,a.forwardRef)((function(t,e){var n=t.chartRef,u=t.style,d=void 0===u?{height:"inherit"}:u,f=t.className,m=t.loading,h=t.loadingTemplate,g=t.errorTemplate,p=l(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Z=(0,r.Z)(i.Area,p),v=Z.chart,x=Z.container;return(0,a.useEffect)((function(){(0,c.J)(n,v.current)}),[v.current]),(0,a.useImperativeHandle)(e,(function(){return{getChart:function(){return v.current}}})),a.createElement(o.Z,{errorTemplate:g},m&&a.createElement(s.Z,{loadingTemplate:h,theme:t.theme}),a.createElement("div",{className:f,style:d,ref:x}))}));e.Z=u}}]);