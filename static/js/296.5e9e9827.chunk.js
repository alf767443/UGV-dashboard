"use strict";(self.webpackChunkcedri_ugv_dashboard=self.webpackChunkcedri_ugv_dashboard||[]).push([[296],{1296:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var r=t(1413),i=t(15671),o=t(43144),a=t(60136),c=t(29388),l=t(47313),s=t(11556),u=t(8515),p=t(79298),d=t(68756),g=t(97849),f=t(93433),m=t(57689),h=t(59615),v=t(62163),Z=t(70301),x=t(15577),S=t(3323),y=t(75079),w=t(58594),b={SimplePlot:[].concat((0,f.Z)(m.Z.SimplePlot),(0,f.Z)(h.Z.SimplePlot),(0,f.Z)(v.Z.SimplePlot),(0,f.Z)(Z.Z.SimplePlot),(0,f.Z)(x.Z.SimplePlot),(0,f.Z)(S.Z.SimplePlot),(0,f.Z)(y.Z.SimplePlot),(0,f.Z)(w.Z.SimplePlot)),LargePlot:[].concat((0,f.Z)(m.Z.LargePlot),(0,f.Z)(h.Z.LargePlot),(0,f.Z)(v.Z.LargePlot),(0,f.Z)(Z.Z.LargePlot),(0,f.Z)(x.Z.LargePlot),(0,f.Z)(S.Z.LargePlot),(0,f.Z)(y.Z.LargePlot),(0,f.Z)(w.Z.LargePlot)),BigPlot:[].concat((0,f.Z)(m.Z.BigPlot),(0,f.Z)(h.Z.BigPlot),(0,f.Z)(v.Z.BigPlot),(0,f.Z)(Z.Z.BigPlot),(0,f.Z)(x.Z.BigPlot),(0,f.Z)(S.Z.BigPlot),(0,f.Z)(y.Z.BigPlot),(0,f.Z)(w.Z.BigPlot))},k={typography:{title:{align:"center",variant:"h5",color:"textSecondary"},subtitle:{align:"center",variant:"h6",color:"textSecondary"}},stack:{spacing:0,direction:"column",alignItems:"center",xs:1,sm:1,md:1,lg:1,xl:1,sx:{mt:1,mr:1,ml:1,mb:1}},box:{xs:1,sm:1,md:1,lg:1,xl:1,sx:{mt:1,mr:1,ml:1,mb:1,display:"grid",gridAutoRows:"100%",gap:1},height:"100%"},grid:{main:{direction:"row",justifyContent:"center",alignItems:"stretch",spacing:0},column:{header:{justifyContent:"center",alignItems:"stretch",xs:12,sm:12,md:12,lg:7,xl:7,spacing:0},map:{justifyContent:"center",alignItems:"stretch",direction:"column",xs:12,sm:12,md:12,lg:5,xl:5,spacing:0},graphs:{justifyContent:"center",alignItems:"stretch",xs:12,sm:12,md:6,lg:6,xl:6,spacing:0},subheader:{justifyContent:"center",alignItems:"stretch",xs:12,sm:12,md:12,lg:12,xl:12,spacing:0}}}},j=t(46417),P=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_dashboard",collection:"config",pipeline:[{$match:{user:"default"}},{$limit:1}]}),G=function(n){(0,a.Z)(t,n);var e=(0,c.Z)(t);function t(n){var r;return(0,i.Z)(this,t),(r=e.call(this,n)).componentDidMount=function(){r.refreshList()},r.state={data:{},graphs:{0:[{key:"",graph:(0,j.jsx)(p.Z,{graph:null,title:null,position:"00"}),coord:"00",type:"simple"},{key:"",graph:(0,j.jsx)(p.Z,{graph:null,title:null,position:"01"}),coord:"01",type:"simple"},{key:"",graph:(0,j.jsx)(p.Z,{graph:null,title:null,position:"02"}),coord:"02",type:"simple"}],1:[{key:"",graph:(0,j.jsx)(p.Z,{graph:null,title:null,position:"10"}),coord:"10",type:"simple"},{key:"",graph:(0,j.jsx)(p.Z,{graph:null,title:null,position:"11"}),coord:"11",type:"simple"},{key:"",graph:(0,j.jsx)(p.Z,{graph:null,title:null,position:"12"}),coord:"12",type:"simple"}],2:[{key:"",graph:(0,j.jsx)(d.Z,{graph:null,title:null,position:"20"}),coord:"20",type:"large"},{key:"",graph:(0,j.jsx)(g.Z,{graph:null,title:null,position:"21"}),coord:"21",type:"big"}]}},r}return(0,o.Z)(t,[{key:"refreshList",value:function(){var n=this;fetch((0,u.H)(),(0,u.w)(P)).then((function(n){return n.json()})).then((function(e){n.setState({data:e[0].dashboardLayout}),console.log(n.state.data),n.generate(e[0].dashboardLayout)})).catch((function(n){console.log(n)}))}},{key:"generate",value:function(n){for(var e=this,t=[],r=function(r){var i=[];e.state.graphs[r].forEach((function(e){var t=e,r=b.SimplePlot.find((function(t){return t.key==n[e.coord].graph})),o=b.LargePlot.find((function(t){return t.key==n[e.coord].graph})),a=b.BigPlot.find((function(t){return t.key==n[e.coord].graph}));switch(n[e.coord].type){case"simple":t.graph=(0,j.jsx)(p.Z,{graph:r.plot,title:r.title,position:e.coord});break;case"large":t.graph=(0,j.jsx)(d.Z,{graph:o.plot,title:o.title,position:e.coord});break;case"big":t.graph=(0,j.jsx)(g.Z,{graph:a.plot,title:a.title,position:e.coord})}i.push(t)})),t.push(i)},i=0;i<3;i++)r(i);this.setState({graphs:t}),console.log(this.state.graphs),this.forceUpdate()}},{key:"render",value:function(){return(0,j.jsxs)(s.Z,(0,r.Z)((0,r.Z)({container:!0},k.grid.main),{},{children:[(0,j.jsx)(s.Z,(0,r.Z)((0,r.Z)({container:!0},k.grid.column.header),{},{children:(0,j.jsxs)(s.Z,(0,r.Z)((0,r.Z)({container:!0},k.grid.column.subheader),{},{children:[(0,j.jsx)(s.Z,(0,r.Z)((0,r.Z)({item:!0},k.grid.column.graphs),{},{children:this.state.graphs[0].map((function(n){return n.graph}))})),(0,j.jsx)(s.Z,(0,r.Z)((0,r.Z)({item:!0},k.grid.column.graphs),{},{children:this.state.graphs[1].map((function(n){return n.graph}))}))]}))})),(0,j.jsx)(s.Z,(0,r.Z)((0,r.Z)({container:!0},k.grid.column.map),{},{children:(0,j.jsx)(s.Z,(0,r.Z)((0,r.Z)({item:!0},k.grid.column.subheader),{},{children:this.state.graphs[2].map((function(n){return n.graph}))}))}))]}))}}]),t}(l.Component)},11556:function(n,e,t){t.d(e,{Z:function(){return q}});var r=t(29439),i=t(93433),o=t(87462),a=t(63366),c=t(47313),l=t(83061),s=t(21921),u=t(32298),p=t(96694),d=t(14614),g=t(86728),f=t(39028),m=t(9456),h=function(n,e,t){var r=n.keys[0];if(Array.isArray(e))e.forEach((function(e,r){t((function(e,t){r<=n.keys.length-1&&(0===r?Object.assign(e,t):e[n.up(n.keys[r])]=t)}),e)}));else if(e&&"object"===typeof e){(Object.keys(e).length>n.keys.length?n.keys:Object.keys(e)).forEach((function(i){if(-1!==n.keys.indexOf(i)){var o=e[i];void 0!==o&&t((function(e,t){r===i?Object.assign(e,t):e[n.up(i)]=t}),o)}}))}else"number"!==typeof e&&"string"!==typeof e||t((function(n,e){Object.assign(n,e)}),e)},v=function(n){var e=n.theme,t=n.ownerState,r={};return h(e.breakpoints,t.gridSize,(function(n,e){var i={};!0===e&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===e&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"===typeof e&&(i={flexGrow:0,flexBasis:"auto",width:"calc(100% * ".concat(e," / var(--Grid-columns)").concat(t.nested&&t.container?" + var(--Grid-columnSpacing)":"",")")}),n(r,i)})),r},Z=function(n){var e=n.theme,t=n.ownerState,r={};return h(e.breakpoints,t.gridOffset,(function(n,e){var t={};"auto"===e&&(t={marginLeft:"auto"}),"number"===typeof e&&(t={marginLeft:0===e?"0px":"calc(100% * ".concat(e," / var(--Grid-columns))")}),n(r,t)})),r},x=function(n){var e=n.theme,t=n.ownerState;if(!t.container)return{};var r={"--Grid-columns":12};return h(e.breakpoints,t.columns,(function(n,e){n(r,{"--Grid-columns":e})})),r},S=function(n){var e=n.theme,t=n.ownerState;if(!t.container)return{};var r={};return h(e.breakpoints,t.rowSpacing,(function(n,t){var i;n(r,{"--Grid-rowSpacing":"string"===typeof t?t:null==(i=e.spacing)?void 0:i.call(e,t)})})),r},y=function(n){var e=n.theme,t=n.ownerState;if(!t.container)return{};var r={};return h(e.breakpoints,t.columnSpacing,(function(n,t){var i;n(r,{"--Grid-columnSpacing":"string"===typeof t?t:null==(i=e.spacing)?void 0:i.call(e,t)})})),r},w=function(n){var e=n.theme,t=n.ownerState;if(!t.container)return{};var r={};return h(e.breakpoints,t.direction,(function(n,e){n(r,{flexDirection:e})})),r},b=function(n){var e=n.ownerState;return(0,o.Z)({minWidth:0,boxSizing:"border-box"},e.container?(0,o.Z)({display:"flex",flexWrap:"wrap"},e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},{margin:"calc(var(--Grid-rowSpacing) / -2) calc(var(--Grid-columnSpacing) / -2)"},e.disableEqualOverflow&&{margin:"calc(var(--Grid-rowSpacing) * -1) 0px 0px calc(var(--Grid-columnSpacing) * -1)"},e.nested?(0,o.Z)({padding:"calc(var(--Grid-nested-rowSpacing) / 2) calc(var(--Grid-nested-columnSpacing) / 2)"},(e.disableEqualOverflow||e.parentDisableEqualOverflow)&&{padding:"calc(var(--Grid-nested-rowSpacing)) 0px 0px calc(var(--Grid-nested-columnSpacing))"}):{"--Grid-nested-rowSpacing":"var(--Grid-rowSpacing)","--Grid-nested-columnSpacing":"var(--Grid-columnSpacing)"}):(0,o.Z)({padding:"calc(var(--Grid-rowSpacing) / 2) calc(var(--Grid-columnSpacing) / 2)"},e.disableEqualOverflow&&{padding:"calc(var(--Grid-rowSpacing)) 0px 0px calc(var(--Grid-columnSpacing))"}))},k=function(n){var e=[];return Object.entries(n).forEach((function(n){var t=(0,r.Z)(n,2),i=t[0],o=t[1];!1!==o&&void 0!==o&&e.push("grid-".concat(i,"-").concat(String(o)))})),e},j=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xs";function t(n){return void 0!==n&&("string"===typeof n&&!Number.isNaN(Number(n))||"number"===typeof n&&n>0)}if(t(n))return["spacing-".concat(e,"-").concat(String(n))];if("object"===typeof n&&!Array.isArray(n)){var i=[];return Object.entries(n).forEach((function(n){var e=(0,r.Z)(n,2),o=e[0],a=e[1];t(a)&&i.push("spacing-".concat(o,"-").concat(String(a)))})),i}return[]},P=t(46417),G=["className","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow"],O=(0,m.Z)(),C=(0,p.Z)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(n,e){return e.root}});function L(n){return(0,d.Z)({props:n,name:"MuiGrid",defaultTheme:O})}var E=t(64164),B=t(11236),N=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.createStyledComponent,t=void 0===e?C:e,p=n.useThemeProps,d=void 0===p?L:p,m=n.componentName,h=void 0===m?"MuiGrid":m,O=c.createContext(!1),E=c.createContext(void 0),B=function(n,e){var t=n.container,r=n.direction,o=n.spacing,a=n.wrap,c=n.gridSize,l={root:["root",t&&"container","row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==a&&"wrap-xs-".concat(String(a))].concat((0,i.Z)(k(c)),(0,i.Z)(t?j(o,e.breakpoints.keys[0]):[]))};return(0,s.Z)(l,(function(n){return(0,u.Z)(h,n)}),{})},N=t(x,y,S,v,w,b,Z),q=c.forwardRef((function(n,e){var t,i,s,u,p,m,h,v,Z=(0,g.Z)(),x=d(n),S=(0,f.Z)(x),y=c.useContext(O),w=c.useContext(E),b=S.className,k=S.columns,j=void 0===k?12:k,C=S.container,L=void 0!==C&&C,q=S.component,I=void 0===q?"div":q,M=S.direction,R=void 0===M?"row":M,D=S.wrap,_=void 0===D?"wrap":D,A=S.spacing,W=void 0===A?0:A,z=S.rowSpacing,T=void 0===z?W:z,U=S.columnSpacing,$=void 0===U?W:U,H=S.disableEqualOverflow,J=(0,a.Z)(S,G),V=H;y&&void 0!==H&&(V=n.disableEqualOverflow);var F={},K={},Q={};Object.entries(J).forEach((function(n){var e=(0,r.Z)(n,2),t=e[0],i=e[1];void 0!==Z.breakpoints.values[t]?F[t]=i:void 0!==Z.breakpoints.values[t.replace("Offset","")]?K[t.replace("Offset","")]=i:Q[t]=i}));var X=null!=(t=n.columns)?t:y?void 0:j,Y=null!=(i=n.spacing)?i:y?void 0:W,nn=null!=(s=null!=(u=n.rowSpacing)?u:n.spacing)?s:y?void 0:T,en=null!=(p=null!=(m=n.columnSpacing)?m:n.spacing)?p:y?void 0:$,tn=(0,o.Z)({},S,{nested:y,columns:X,container:L,direction:R,wrap:_,spacing:Y,rowSpacing:nn,columnSpacing:en,gridSize:F,gridOffset:K,disableEqualOverflow:null!=(h=null!=(v=V)?v:w)&&h,parentDisableEqualOverflow:w}),rn=B(tn,Z),on=(0,P.jsx)(N,(0,o.Z)({ref:e,as:I,ownerState:tn,className:(0,l.Z)(rn.root,b)},Q));return y||(on=(0,P.jsx)(O.Provider,{value:!0,children:on})),void 0!==V&&V!==(null!=w&&w)&&(on=(0,P.jsx)(E.Provider,{value:V,children:on})),on}));return q}({createStyledComponent:(0,E.ZP)("div",{name:"MuiGrid2",overridesResolver:function(n,e){return e.root}}),componentName:"MuiGrid2",useThemeProps:function(n){return(0,B.Z)({props:n,name:"MuiGrid2"})}}),q=N},96694:function(n,e,t){var r=(0,t(36541).ZP)();e.Z=r}}]);