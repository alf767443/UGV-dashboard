"use strict";(self.webpackChunkcedri_ugv_dashboard=self.webpackChunkcedri_ugv_dashboard||[]).push([[296],{1296:function(n,e,r){r.r(e),r.d(e,{default:function(){return k}});var t=r(1413),i=r(15671),o=r(43144),a=r(60136),c=r(29388),l=r(47313),s=r(11556),u=r(8515),p=r(79298),d=r(68756),g=r(97849),f=r(93433),m=r(57689),h=r(59615),v=r(62163),Z=r(70301),x=r(15577),y={SimplePlot:[].concat((0,f.Z)(m.Z.SimplePlot),(0,f.Z)(h.Z.SimplePlot),(0,f.Z)(v.Z.SimplePlot),(0,f.Z)(Z.Z.SimplePlot),(0,f.Z)(x.Z.SimplePlot)),LargePlot:[].concat((0,f.Z)(m.Z.LargePlot),(0,f.Z)(h.Z.LargePlot),(0,f.Z)(v.Z.LargePlot),(0,f.Z)(Z.Z.LargePlot),(0,f.Z)(x.Z.LargePlot)),BigPlot:[].concat((0,f.Z)(m.Z.BigPlot),(0,f.Z)(h.Z.BigPlot),(0,f.Z)(v.Z.BigPlot),(0,f.Z)(Z.Z.BigPlot),(0,f.Z)(x.Z.BigPlot))},S={typography:{title:{align:"center",variant:"h5",color:"textSecondary"},subtitle:{align:"center",variant:"h6",color:"textSecondary"}},stack:{spacing:0,direction:"column",alignItems:"center",xs:1,sm:1,md:1,lg:1,xl:1,sx:{mt:1,mr:1,ml:1,mb:1}},box:{xs:1,sm:1,md:1,lg:1,xl:1,sx:{mt:1,mr:1,ml:1,mb:1,display:"grid",gridAutoRows:"100%",gap:1},height:"100%"},grid:{main:{direction:"row",justifyContent:"center",alignItems:"stretch",spacing:0},column:{header:{justifyContent:"center",alignItems:"stretch",xs:12,sm:12,md:12,lg:7,xl:7,spacing:0},map:{justifyContent:"center",alignItems:"stretch",direction:"column",xs:12,sm:12,md:12,lg:5,xl:5,spacing:0},graphs:{justifyContent:"center",alignItems:"stretch",xs:12,sm:12,md:6,lg:6,xl:6,spacing:0},subheader:{justifyContent:"center",alignItems:"stretch",xs:12,sm:12,md:12,lg:12,xl:12,spacing:0}}}},w=r(46417),b=JSON.stringify({dataSource:"CeDRI",database:"CeDRI_UGV_dashboard",collection:"config",pipeline:[{$match:{user:"default"}},{$limit:1}]}),k=function(n){(0,a.Z)(r,n);var e=(0,c.Z)(r);function r(n){var t;return(0,i.Z)(this,r),(t=e.call(this,n)).componentDidMount=function(){t.refreshList()},t.state={data:{},graphs:{0:[{key:"",graph:(0,w.jsx)(p.Z,{graph:null,title:null,position:"00"}),coord:"00",type:"simple"},{key:"",graph:(0,w.jsx)(p.Z,{graph:null,title:null,position:"01"}),coord:"01",type:"simple"},{key:"",graph:(0,w.jsx)(p.Z,{graph:null,title:null,position:"02"}),coord:"02",type:"simple"}],1:[{key:"",graph:(0,w.jsx)(p.Z,{graph:null,title:null,position:"10"}),coord:"10",type:"simple"},{key:"",graph:(0,w.jsx)(p.Z,{graph:null,title:null,position:"11"}),coord:"11",type:"simple"},{key:"",graph:(0,w.jsx)(p.Z,{graph:null,title:null,position:"12"}),coord:"12",type:"simple"}],2:[{key:"",graph:(0,w.jsx)(d.Z,{graph:null,title:null,position:"20"}),coord:"20",type:"large"},{key:"",graph:(0,w.jsx)(g.Z,{graph:null,title:null,position:"21"}),coord:"21",type:"big"}]}},t}return(0,o.Z)(r,[{key:"refreshList",value:function(){var n=this;fetch((0,u.H)(),(0,u.w)(b)).then((function(n){return n.json()})).then((function(e){n.setState({data:e[0].dashboardLayout}),console.log(n.state.data),n.generate(e[0].dashboardLayout)})).catch((function(n){console.log(n)}))}},{key:"generate",value:function(n){for(var e=this,r=[],t=function(t){var i=[];e.state.graphs[t].forEach((function(e){var r=e,t=y.SimplePlot.find((function(r){return r.key==n[e.coord].graph})),o=y.LargePlot.find((function(r){return r.key==n[e.coord].graph})),a=y.BigPlot.find((function(r){return r.key==n[e.coord].graph}));switch(n[e.coord].type){case"simple":r.graph=(0,w.jsx)(p.Z,{graph:t.plot,title:t.title,position:e.coord});break;case"large":r.graph=(0,w.jsx)(d.Z,{graph:o.plot,title:o.title,position:e.coord});break;case"big":r.graph=(0,w.jsx)(g.Z,{graph:a.plot,title:a.title,position:e.coord})}i.push(r)})),r.push(i)},i=0;i<3;i++)t(i);this.setState({graphs:r}),console.log(this.state.graphs),this.forceUpdate()}},{key:"render",value:function(){return(0,w.jsxs)(s.Z,(0,t.Z)((0,t.Z)({container:!0},S.grid.main),{},{children:[(0,w.jsx)(s.Z,(0,t.Z)((0,t.Z)({container:!0},S.grid.column.header),{},{children:(0,w.jsxs)(s.Z,(0,t.Z)((0,t.Z)({container:!0},S.grid.column.subheader),{},{children:[(0,w.jsx)(s.Z,(0,t.Z)((0,t.Z)({item:!0},S.grid.column.graphs),{},{children:this.state.graphs[0].map((function(n){return n.graph}))})),(0,w.jsx)(s.Z,(0,t.Z)((0,t.Z)({item:!0},S.grid.column.graphs),{},{children:this.state.graphs[1].map((function(n){return n.graph}))}))]}))})),(0,w.jsx)(s.Z,(0,t.Z)((0,t.Z)({container:!0},S.grid.column.map),{},{children:(0,w.jsx)(s.Z,(0,t.Z)((0,t.Z)({item:!0},S.grid.column.subheader),{},{children:this.state.graphs[2].map((function(n){return n.graph}))}))}))]}))}}]),r}(l.Component)},11556:function(n,e,r){r.d(e,{Z:function(){return q}});var t=r(29439),i=r(93433),o=r(87462),a=r(63366),c=r(47313),l=r(83061),s=r(21921),u=r(32298),p=r(96694),d=r(14614),g=r(86728),f=r(39028),m=r(9456),h=function(n,e,r){var t=n.keys[0];if(Array.isArray(e))e.forEach((function(e,t){r((function(e,r){t<=n.keys.length-1&&(0===t?Object.assign(e,r):e[n.up(n.keys[t])]=r)}),e)}));else if(e&&"object"===typeof e){(Object.keys(e).length>n.keys.length?n.keys:Object.keys(e)).forEach((function(i){if(-1!==n.keys.indexOf(i)){var o=e[i];void 0!==o&&r((function(e,r){t===i?Object.assign(e,r):e[n.up(i)]=r}),o)}}))}else"number"!==typeof e&&"string"!==typeof e||r((function(n,e){Object.assign(n,e)}),e)},v=function(n){var e=n.theme,r=n.ownerState,t={};return h(e.breakpoints,r.gridSize,(function(n,e){var i={};!0===e&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===e&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"===typeof e&&(i={flexGrow:0,flexBasis:"auto",width:"calc(100% * ".concat(e," / var(--Grid-columns)").concat(r.nested&&r.container?" + var(--Grid-columnSpacing)":"",")")}),n(t,i)})),t},Z=function(n){var e=n.theme,r=n.ownerState,t={};return h(e.breakpoints,r.gridOffset,(function(n,e){var r={};"auto"===e&&(r={marginLeft:"auto"}),"number"===typeof e&&(r={marginLeft:0===e?"0px":"calc(100% * ".concat(e," / var(--Grid-columns))")}),n(t,r)})),t},x=function(n){var e=n.theme,r=n.ownerState;if(!r.container)return{};var t={"--Grid-columns":12};return h(e.breakpoints,r.columns,(function(n,e){n(t,{"--Grid-columns":e})})),t},y=function(n){var e=n.theme,r=n.ownerState;if(!r.container)return{};var t={};return h(e.breakpoints,r.rowSpacing,(function(n,r){var i;n(t,{"--Grid-rowSpacing":"string"===typeof r?r:null==(i=e.spacing)?void 0:i.call(e,r)})})),t},S=function(n){var e=n.theme,r=n.ownerState;if(!r.container)return{};var t={};return h(e.breakpoints,r.columnSpacing,(function(n,r){var i;n(t,{"--Grid-columnSpacing":"string"===typeof r?r:null==(i=e.spacing)?void 0:i.call(e,r)})})),t},w=function(n){var e=n.theme,r=n.ownerState;if(!r.container)return{};var t={};return h(e.breakpoints,r.direction,(function(n,e){n(t,{flexDirection:e})})),t},b=function(n){var e=n.ownerState;return(0,o.Z)({minWidth:0,boxSizing:"border-box"},e.container?(0,o.Z)({display:"flex",flexWrap:"wrap"},e.wrap&&"wrap"!==e.wrap&&{flexWrap:e.wrap},{margin:"calc(var(--Grid-rowSpacing) / -2) calc(var(--Grid-columnSpacing) / -2)"},e.disableEqualOverflow&&{margin:"calc(var(--Grid-rowSpacing) * -1) 0px 0px calc(var(--Grid-columnSpacing) * -1)"},e.nested?(0,o.Z)({padding:"calc(var(--Grid-nested-rowSpacing) / 2) calc(var(--Grid-nested-columnSpacing) / 2)"},(e.disableEqualOverflow||e.parentDisableEqualOverflow)&&{padding:"calc(var(--Grid-nested-rowSpacing)) 0px 0px calc(var(--Grid-nested-columnSpacing))"}):{"--Grid-nested-rowSpacing":"var(--Grid-rowSpacing)","--Grid-nested-columnSpacing":"var(--Grid-columnSpacing)"}):(0,o.Z)({padding:"calc(var(--Grid-rowSpacing) / 2) calc(var(--Grid-columnSpacing) / 2)"},e.disableEqualOverflow&&{padding:"calc(var(--Grid-rowSpacing)) 0px 0px calc(var(--Grid-columnSpacing))"}))},k=function(n){var e=[];return Object.entries(n).forEach((function(n){var r=(0,t.Z)(n,2),i=r[0],o=r[1];!1!==o&&void 0!==o&&e.push("grid-".concat(i,"-").concat(String(o)))})),e},j=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xs";function r(n){return void 0!==n&&("string"===typeof n&&!Number.isNaN(Number(n))||"number"===typeof n&&n>0)}if(r(n))return["spacing-".concat(e,"-").concat(String(n))];if("object"===typeof n&&!Array.isArray(n)){var i=[];return Object.entries(n).forEach((function(n){var e=(0,t.Z)(n,2),o=e[0],a=e[1];r(a)&&i.push("spacing-".concat(o,"-").concat(String(a)))})),i}return[]},G=r(46417),P=["className","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow"],O=(0,m.Z)(),C=(0,p.Z)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(n,e){return e.root}});function E(n){return(0,d.Z)({props:n,name:"MuiGrid",defaultTheme:O})}var L=r(64164),B=r(11236),N=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.createStyledComponent,r=void 0===e?C:e,p=n.useThemeProps,d=void 0===p?E:p,m=n.componentName,h=void 0===m?"MuiGrid":m,O=c.createContext(!1),L=c.createContext(void 0),B=function(n,e){var r=n.container,t=n.direction,o=n.spacing,a=n.wrap,c=n.gridSize,l={root:["root",r&&"container","row"!==t&&"direction-xs-".concat(String(t)),"wrap"!==a&&"wrap-xs-".concat(String(a))].concat((0,i.Z)(k(c)),(0,i.Z)(r?j(o,e.breakpoints.keys[0]):[]))};return(0,s.Z)(l,(function(n){return(0,u.Z)(h,n)}),{})},N=r(x,S,y,v,w,b,Z),q=c.forwardRef((function(n,e){var r,i,s,u,p,m,h,v,Z=(0,g.Z)(),x=d(n),y=(0,f.Z)(x),S=c.useContext(O),w=c.useContext(L),b=y.className,k=y.columns,j=void 0===k?12:k,C=y.container,E=void 0!==C&&C,q=y.component,I=void 0===q?"div":q,M=y.direction,R=void 0===M?"row":M,D=y.wrap,_=void 0===D?"wrap":D,A=y.spacing,W=void 0===A?0:A,z=y.rowSpacing,T=void 0===z?W:z,U=y.columnSpacing,$=void 0===U?W:U,H=y.disableEqualOverflow,J=(0,a.Z)(y,P),V=H;S&&void 0!==H&&(V=n.disableEqualOverflow);var F={},K={},Q={};Object.entries(J).forEach((function(n){var e=(0,t.Z)(n,2),r=e[0],i=e[1];void 0!==Z.breakpoints.values[r]?F[r]=i:void 0!==Z.breakpoints.values[r.replace("Offset","")]?K[r.replace("Offset","")]=i:Q[r]=i}));var X=null!=(r=n.columns)?r:S?void 0:j,Y=null!=(i=n.spacing)?i:S?void 0:W,nn=null!=(s=null!=(u=n.rowSpacing)?u:n.spacing)?s:S?void 0:T,en=null!=(p=null!=(m=n.columnSpacing)?m:n.spacing)?p:S?void 0:$,rn=(0,o.Z)({},y,{nested:S,columns:X,container:E,direction:R,wrap:_,spacing:Y,rowSpacing:nn,columnSpacing:en,gridSize:F,gridOffset:K,disableEqualOverflow:null!=(h=null!=(v=V)?v:w)&&h,parentDisableEqualOverflow:w}),tn=B(rn,Z),on=(0,G.jsx)(N,(0,o.Z)({ref:e,as:I,ownerState:rn,className:(0,l.Z)(tn.root,b)},Q));return S||(on=(0,G.jsx)(O.Provider,{value:!0,children:on})),void 0!==V&&V!==(null!=w&&w)&&(on=(0,G.jsx)(L.Provider,{value:V,children:on})),on}));return q}({createStyledComponent:(0,L.ZP)("div",{name:"MuiGrid2",overridesResolver:function(n,e){return e.root}}),componentName:"MuiGrid2",useThemeProps:function(n){return(0,B.Z)({props:n,name:"MuiGrid2"})}}),q=N},96694:function(n,e,r){var t=(0,r(36541).ZP)();e.Z=t}}]);